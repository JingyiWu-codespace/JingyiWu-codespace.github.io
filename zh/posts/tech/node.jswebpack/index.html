<html lang="zh" dir=" auto">

<!DOCTYPE html>

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>学习：Node.js &amp; Webpack  | Jingyi&#39;s Blog</title>
<meta name="keywords" content="Webpack, Node.js">
<meta name="description" content="Basic understanding of front-end engineering">
<meta name="author" content="Jingyi Wu">
<link rel="canonical" href="https://jingyiwu-codespace.github.io/zh/posts/tech/node.jswebpack/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.bb17103716ce748824407fb65cb4ad0bab7144d7fdd69db82838a008c55e484e.css" integrity="sha256-uxcQNxbOdIgkQH&#43;2XLStC6txRNf91p24KDigCMVeSE4=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jingyiwu-codespace.github.io/img/magic_rabbit_sixteen_icon.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://jingyiwu-codespace.github.io/img/magic_rabbit_sixteen_icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jingyiwu-codespace.github.io/img/magic_rabbit_sixteen_icon.png">
<link rel="apple-touch-icon" href="https://jingyiwu-codespace.github.io/img/magic_rabbit_sixteen_icon.png">
<link rel="mask-icon" href="https://jingyiwu-codespace.github.io/img/magic_rabbit_sixteen_icon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://jingyiwu-codespace.github.io/zh/posts/tech/node.jswebpack/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><head>

    <link href="https://fonts.cdnfonts.com/css/code-new-roman" rel="stylesheet">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7TPHQR7CHS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-7TPHQR7CHS');
    </script>
    


</head>
  
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-7TPHQR7CHS"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-7TPHQR7CHS');
        }
      </script>
    
  

<meta property="og:title" content="学习：Node.js &amp; Webpack " />
<meta property="og:description" content="Basic understanding of front-end engineering" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jingyiwu-codespace.github.io/zh/posts/tech/node.jswebpack/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-03-30T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="学习：Node.js &amp; Webpack "/>
<meta name="twitter:description" content="Basic understanding of front-end engineering"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "📝记录",
      "item": "https://jingyiwu-codespace.github.io/zh/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "💻 技术",
      "item": "https://jingyiwu-codespace.github.io/zh/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "学习：Node.js \u0026 Webpack ",
      "item": "https://jingyiwu-codespace.github.io/zh/posts/tech/node.jswebpack/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "学习：Node.js \u0026 Webpack ",
  "name": "学习：Node.js \u0026 Webpack ",
  "description": "Basic understanding of front-end engineering",
  "keywords": [
    "Webpack", "Node.js"
  ],
  "articleBody": "Node.js 引入 1. 什么是Node.js? Node.js 是一个跨平台 JavaScript运行环境，使开发者可以搭建服务端的JavaScript的应用程序\n作用：使用Node.js 便携服务器端程序\n编写数据接口，提供网页资源浏览功能等等 前端工程化：为后续学习Vue和React做铺垫 2. 什么是前端工程化？ 开发项目直到上线，过程中继承的所有工具和技术\n压缩工具 -\u003e 体积更小，更流畅 转换工具 -\u003e less 转 css， 转高版本JS 格式化工具 打包工具 -\u003e 整合前端代码 脚手架工具 自动化部署 node.js 可以主动读取前端代码的内容，对前端代码进行相应的处理\n3. Node.js 为何能执行 JS ? 首先：浏览器能执行 JS 代码，依靠的是内核中的V8引擎 （C++程序） 其次： Node.js 是基于 Chrome V8 引擎进行封装 （运行环境） 4. Node.js 安装 下载 node-v16.19.0 msi 安装程序 (指定版本：兼容vue-admin-template模版)，我不太想下载之前版本的Node.js, 发现 https://juejin.cn/post/7204454572889980965 这个教程中有切换版本的选项。\n总结 Node.js 是什么？\n基于Chrome的V8引擎，独立执行JavaScript代码环境\nNode.js 与 浏览器环境的 JS 最大区别？\nNode.js 环境中没有 BOM 和 DOM\nNode.js 有什么用？\n编写后端程序： 提供数据和网页资源等等\n前端工程化：集成各种开发使用的工具和技术\nNode.js 如何执行代码?\n在VSCode终端输入： node xxx.js 回车即可（注意路径）\nNode.js模块 1. fs 模块 - 读写文件 模块： 类似插件，封装了方法/属性\nfs模块：封装了与本机文件系统进行交互的方法/属性\n语法：\n加载 fs 模块对象\n写入文件内容\n读取文件内容\nconst fs = require('fs') // fs是模块标识符：模块的名字 fs.writeFile('文件路径', '写入内容',err=\u003e{ // 写入后的回调函数 }) fs.readFile('文件路径',(err,data)=\u003e{ // 读取后的回调函数 if(err)console.log(err) else console.log(data) // data是文件内容的Buffer数据流 // 这时候是16进制 //如果想显示原有字符 console.log(data.toString()) }) 2. path 模块-路径处理 问题： Node.js 代码中，相对路径是根据终端所在路径来查找，可能无法找到你想要的文件\nconst fs = require('fs') fs.readFile('../test.txt',(err,data)=\u003e{ if (err) console.log(err) else console.log(data.toString()) }) 解决方案：\n建议： 在Node.js 代码中使用绝对路径\n补充： _dirname 内置变量 (获取当前模块目录-绝对路径)\n注意：path.join() 会使用特定于平台的分隔符，作为定界符，将所有给定的路径片段连接在一起\nconst fn = request ('fs') const path = require('path') cnosole.log(__dirname) fs.readFile(path.join(__dirname,'../test.txt'),(err,data)=\u003e{ if (err)console.log(err) else console.log(data.toString()) }) 3. 案例-压缩前端 html 需求：把 回车符 (\\r) 和换行符 (\\n)去掉后，写入到新的html文件中\n步骤：\n读取源html文件内容 正则替换字符串 写入到新的html文件中 4. URL 的端口号 URL: 统一资源定位符 端口号：标记服务器里不同功能的服务程序 端口号范围： 0-65535之间的任意整数 注意：http协议，默认访问80端口\n常见的服务程序 web服务程序： 用于提供网上信息浏览功能 注意： 0-1023 和一些特定端口号被占用，自己编写服务程序请避开使用 总结\n端口号的作用？\n标记区分服务器里__不同的服务程序__，通过端口号访问不同的功能\n什么叫web服务程序？\n提供浏览器 网上信息浏览的程序代码\n5. http 模块 - 创建web服务 创建web服务并响应内容给浏览器\n步骤：\n加载 http模块， 创建Web服务对象\n监听request请求事件，设置响应头和响应体\nres 是响应对象\n配置端口号并启动Web服务\n浏览器请求： http://localhost:3000 测试\n(localhost： 固定代表本机的域名)\nconst http = require('http') const server = http.creatServer() server.on('request',(req,res)=\u003e{ // 设置响应头：内容类型，普通文本；编码格式utf-8 res.setHeader('Content-Type','text/plain;charset=utf-8') // 设置响应体内容，结束本次请求与响应 res.end('您好，欢迎使用node.js创建的web服务') }) // 1.3 配置端口号并启动Web服务 // 启动计算机进程监听 是否有人请求 server.listen(3000,()=\u003e{ console.log('Web 服务已经启动') }) 6. 案例 - 浏览时钟 基于Web服务，开发提供网页资源的功能\n步骤：\n基于 http 模块，创建 Web 服务 使用 req.url 获取请求资源路径，判断并读取 index.html 里面的字符串内容返回给请求方 其他路径，暂时返回不存在的提示 运行 Web 服务，用浏览器发起请求测试 // 1. 引入模块 const fs = require('fs') const path = require('path') const http = require('http') const server = http.createServer() // 2. 使用req.url 获取请求资源路径，并读取index.html 里面的字符串返回至请求方 server.on('request', (req, res) =\u003e { if (req.url === '/index.html') { fs.readFile(path.join(__dirname, 'dist/index.html'), (err, data) =\u003e { if (err) console.log(err) else { // 设置响应内容类型 html 超文本字符串，让浏览器解析成标签网页等 res.setHeader('Content-Type', 'text/html;charset=utf-8') res.end(data.toString()) } }) } else { // 3. 其他路径暂时返回不存在提示 res.setHeader('Content-Type', 'text/html;charset=utf-8') res.end('请求路径不存在') } }) server.listen(8080, () =\u003e { console.log('原神启动!!') }) 模块化 1. 定义 CommonJS 模块是为 Node.js 打包 JavaScript 代码的原始方式。 Node.js 还支持浏览器和其他 JavaScript 运行时使用的ECMAScript模块 标准。 在Node.js中，每一个文件都被视为一个单独的模块 概念： 项目是由很多的模块文件组成\n好处： 提高代码复用性，按需加载，独立作用域\n使用：需要标准语法导出、导入进行使用。这个标准语法就是 CommomJS\n2. 使用 1. 语法 导出： module.exports = {} 导入：require(‘模块名或路径’) 2. 模块名或路径 CommomJS 标准 内置模块：直接写名字 （例如：fs, path, http）\n自定义模块： 写模块文件路径（例如： ./utils.js）\nconst baseURL = 'http://hmajax.itheima.net' const getArraySum = arr =\u003e arr.reduce((sum,val)=\u003esum+=val,0) module.exports = { 对外属性1:baseURL, 对外属性2:getArraySum } const obj = require('模块名或路径') // obj 等于 module.exports 导出的对象 总结：\nNode.js 中什么是模块化?\n每个文件都是独立的模块\n模块之间如何联系？\n使用特定的语法，导出和导入使用\nCommonJS 标准规定如何导出和导入模块？\n导出： module.exports = {}\n导入： require(‘模块名或路径’)\n模块名/路径如何选择？\n内置模块，直接写名字，例如：fs ,path, http 等\n自定义模块，写模块文件路径，例如：./utils.js\nECMAScript 标准 - 默认到处导入 封装并导出基地址和求数组元素和的函数\n默认标准使用：\n导出： export default() 导入：import 变量名 from ‘模块名或路径’ 注意： Node.js 默认支持 CommonJS 标准语法。 如需使用ECMAScript标准语法，在运行模块所在文件夹新建 package.json 文件，并设置 {'type':'module'}\nconst baseURL = 'http://hmajax.itheima.net' const getArraySum = arr=\u003e{ arr.reduce((sum,val)=\u003e sum+=val,0) } // 导出 export default { 对外属性1:baseURL, 对外属性2:getArraySum } // 导入 import obj from '模块名或路径' // obj 等于 export default 导出对象 总结：\nECMAScript 标准规定 默认到处和导入模块\n导出：export defalut{}\n导入： import 变量名 from ’ 模块名或路径 '\n如何让Node.js 切换模块为ECMAScript?\n运行模块所在文件夹，新建 package.json并设置\n{\"type\":\"module\"}\nECMAScript 标准 - 命名导出和导入 封装并导出基地址和求数组元素和的函数\n命名标准使用\n导出： export修饰定义语句 导入：import (同名变量) from ‘模块名和路径’ 如何选择命名/默认导出导入\n按需加载，使用命名导出和导入 全部加载，使用默认导出导入 export const baseURL = 'http://hmajax.itheima.net' export const getArraySum = arr =\u003e arr.reduce((sum,val)=\u003esum+=val,0) import {baseURL, getArraySum} from '模块名或路径' 总结：\nNode.js 支持两种模块化辨准\nCommonJS 标准语法 (默认)\nECMAScript 标准语法\nECEAScript 标准， 命名导出和导入的语法\n导出： export 修饰定义的语句\n导入： import { 同名变量 } from ‘模块名或路径’\nECEAScript 标准，默认导出和导入语法\n导出：export default {}\n导入：import 变量名 from ‘模块名或路径’\n包 包：将模块，代码，其他资料聚合成一个文件夹\n1. 包分类 项目包 ： 主要用于编写项目和业务逻辑 软件包： 封装工具和方法进行使用 要求： 根目录中，必须有package.json文件 （记录包的清单信息）\n注意： 导入软件包时，引入的默认是 index.js 模块文件/ main 属性指定的模块文件 （utils 工具包的唯一出口，作用：把所有工具模块方法集中起来，统一向外暴露）\n放入视频，因为老师有一些文件结构，我没有截图\n总结：\n什么是包？\n将模块，代码，其他资料聚合成的文件夹。文件我们称之为模块\n包分为2类\n项目包： 编写项目代码的文件夹\n软件包： 封装工具和方法\npackage.json 文件的作用？\n记录了包的信息/作者/名字/入口信息\n导入一个包文件夹的时候，默认导入index.js 文件或package main属性指定的文件\nnpm npm 是Node.js 标准的软件包管理器，作为下载和管理 Node.js 包依赖的方式\n##1 .npm 软件包 使用\n初始化清单文件： npm init -y （得到package.json 文件，可以记录当前项目中，下载了多少软件包） 下载软件包： npm i 软件包名称 使用软件包 2. 使用案例 图解 总结：\nnpm软件包管理器作用？\n下载软件包以及管理版本\n初始化项目清单文件 package.json 命令\nnpm init -y\n下载软件包的命令？\nnpm i 软件包名字\n下载的包 存放地址\n当前项目下的node_modules中，并记录package.json中\n2. npm - 安装所有依赖 若收到项目文件中不包含node_modules 是否能正常运行？\n不能，缺少依赖的本地软件包\n原因： 因为自己用 npm下载依赖比磁盘传递拷贝要快得多\n__解决方案: __\n项目终端输入命令： npm i\n下载package.json 中记录的所有软件包\n3. npm - 全局软件包 nodemon 软件包区别 本地软件包：当前项目内使用，封装属性和方法，存在于node_modules 全局软件包：本机所有项目使用，封装命令和工具，存在于系统设置的位置 nodemon作用：代替node命令，检测代码更改，自动重启程序\nnodemon使用 安装 npm i nodemon -g (-g 代表安装到全局环境中) 运行 nodemon 待执行的目标 js 文件 总结：\n本地软件包和全局软件包区别\n本地软件包，作用与当前项目，封装属性与方法\n全局软件包，本机所有项目使用，封装命令和工具\nnodemon 全局软件包的作用\n替代node命令，检测代码更改，自动重启程序\nnodemon怎么用？\n先确保安装 npm i nodemon -g （只有是命令和工具的软件包才安装到全局）\n使用 nodemon 执行目标js文件\nNode.js 总结 Node.js 模块化 概念： 每个文件当做一个模块，独立作用域，按需加载\n使用： 采用特点的标准语法导出和导入进行使用\nCommonJS 标准\n导出：module.exports = {}\n导入：require('模块名或路径')\nECMAScript标准\n默认模式：\n导出：export default {}\n导入：import 变量名 from '模块化路径'\n命名模式:\n导出：export 修饰定义语句\n导入：import {同名变量} from'模块化路径' CommonJS 标准：一般应用在Node.js 项目环境中\nECMAScript标准：一般应用在前端工程化项目中\nNode.js 包 把模块文件，代码文件，其他资料聚合成一个文件夹\n项目包：编写项目需求和业务逻辑文件夹\n软件包：封装工具和方法进行使用的文件夹 (一般使用npm管理)\n本地软件包： dayjs, loads, …\n作用当前项目，一般封装的属性/方法，供项目调用编写业务需求\n全局软件包: nodemon\n作用在所有项目，一般封装的命令/工具，支撑项目运行\nNode.js 常用命令 功能 命令 执行js文件 node index.js 初始化 packpage.json npm init -y 下载本地软件包 npm i 软件包名 下载全局软件包 npm i 软件包名 -g 删除软件包 npm uni 软件包名 Webpack 引入 1. 定义 本质上， webpack是一个用于现代 JavaScript 应用程序的 静态模块打包工具，当webpack处理应用程序时，它会在内部从一个或多个入口点构建一个依赖图 (dependency graph), 然后将你的项目中所需要的每一个模块组合成一个或多个 bundles，它们均为静态资源，用于展示你的内容\n静态模块： 指的是编写代码过程中的 html, css,js,图片等固定内容的文件\n打包：把静态模块内容 压缩，整合，转译等等 （前端工程化）\n把 less/sass 转换成 css代码 把 ES6+ 降级到 ES5 支持多种模块标准语法 关于vite (另一种打包工具)，很多项目还是基于webpack构建，也为Vue, React脚手架使用做铺垫\n2. 执行步骤 准备项目和源代码\n准备 webpack 打包的环境\n新建自定义配置\n// 导入/导出标准 \"type\": \"module\", // 添加自定义命令，调用build，使用webpack \"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" \u0026\u0026 exit 1\", \"build\": \"webpack\" } 运行自定义命令打包观察效果\nnpm run 自定义命令\n出现 dist 文件夹\nWebpack 打包入口和出口修改 1. 默认值 默认打包入口： src/index.js 默认打包出口：dist/main.js 步骤：\n项目根目录，新建 webpack.config.js 配置文件 导出配置对象，配置入口，出口文件的路径 重新打包观察 注意: 只有和入口产生直接/简介的引入关系，才会被打包\nconst path = require('path') module.exports = { entry: path.resolve(__dirname, 'src/login/index.js'), output:{ path: path.resolve(__dirname, 'dist'), filename: './login/index.js', clean: true // 生成打包内容后，清空输出目录，只在webpack 5以上的版本才能使用 } } 2. Webpack的官方网址 目前b站教的是webpack5 webpack.docschina.org/concepts\n3. Webpack 修改入口 (entry) 在 webpack configuration中配置entry属性，来指定一个或多个不同的入口起点\n文件夹-\u003e 项目根目录中的webpack.config.js\nmodule.exports = { entry: './path/file.js' }; 4. Webpack 修改出口 (output) 在 webpack configuration.js中配置output属性，表明webpack在哪里输出创建的bundle\n文件夹-\u003e 项目根目录中的webpack.config.js\nconst path = require('path'); module.exports = { entry: './path/file.js', output: { // 输出路径 path: path.resolve(__dirname,'dist') // 打包后文件的名字 filename:'my-first-webpack.bundle.js' } } 5. 案例 用户登录 前端工程化思路： Webpack打包后的代码，在前端页面中的使用\n步骤：\n准备用户登录页面 编写核心JS逻辑代码 打包手动复制网页到dist下，引入打包后的js，运行 6. Webpack 自动生成html文件 前情提要： 之前打包后我们将原始的html文件，手动添加至输出文件夹，这回我们让webpack自动找到对应的html文件\n1. Html-wabpack-plugin 插件 HtmlWebpackPlugin简化了HTML文件的创建，以便为webpack包提供服务，这对于文件名中包含哈希值，并且哈希值会随着每次编译而改变的webpack包非常有用。可以让该插件为用户生成HTML 文件，使用lodash提供模版，或者使用自己的loader\n安装 npm install --save-dev html-webpack-plugin\n–sav-dev 表示只在开发环境中使用\n基本用法及步骤 无论是什么功能都是 找包-\u003e 下包-\u003e 配置包\n下载 Html-wabpack-plugin 本地软件包\n该插件将为你生成一个HTML5文件，在body中使用script变迁引入你所有webpack生成的bundle，只需添加该插件到你的webpack配置中\nconst HtmlWebpackPlugin = require('html-webpack-plugin'); const path = require('path'); module.exports = { entry: index.js, output:{ path: path.resolve(__dirname, './dist'), // 输出文件 filename: 'index_bundle.js', }, //这个位置 plugins: [new HtmlWepackPlugin()], }; 配置webpack.config.js 让 Webpack 拥有插件功能\n会在dist文件下生成index.html， 如果有多个webpack入口，都会在已生成HTML文件中的",
  "wordCount" : "8758",
  "inLanguage": "zh",
  "datePublished": "2024-03-30T00:00:00Z",
  "dateModified": "2024-03-30T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Jingyi Wu"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jingyiwu-codespace.github.io/zh/posts/tech/node.jswebpack/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Jingyi's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jingyiwu-codespace.github.io/img/magic_rabbit_sixteen_icon.png"
    }
  }
}
</script>
</head>

<body class="" class=" top" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jingyiwu-codespace.github.io/zh/" accesskey="h" title="Jingyi&#39;s Blog (Alt + H)">Jingyi&#39;s Blog</a>
                    <div class="logo-switches">
                        <button id="theme-toggle" accesskey="t" title="(Alt + T)"
                            onclick="javascript:location.reload();">
                            <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                            </svg>
                            <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="5"></circle>
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <line x1="12" y1="21" x2="12" y2="23"></line>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                <line x1="1" y1="12" x2="3" y2="12"></line>
                                <line x1="21" y1="12" x2="23" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                            </svg>
                        </button>
                        <ul class="lang-switch"><li>|</li>
                            <li>
                                <a href="https://jingyiwu-codespace.github.io/en/"
                                    title="English"
                                    aria-label="English">En</a>
                            </li>
                        </ul>
                    </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jingyiwu-codespace.github.io/zh/posts/" title="博客">
                    <span>博客</span>
                </a>
            </li>
            <li>
                <a href="https://jingyiwu-codespace.github.io/zh/archives/" title="时间线">
                    <span>时间线</span>
                </a>
            </li>
            <li>
                <a href="https://jingyiwu-codespace.github.io/zh/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://jingyiwu-codespace.github.io/zh/search" title="搜索 (Alt &#43; /)" accesskey=/>
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="https://jingyiwu-codespace.github.io/zh/msg" title="留言板">
                    <span>留言板</span>
                </a>
            </li>
        </ul>
    </nav>
</header><main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://jingyiwu-codespace.github.io/zh/">主页</a>&nbsp;»&nbsp;<a href="https://jingyiwu-codespace.github.io/zh/posts/">📝记录</a>&nbsp;»&nbsp;<a href="https://jingyiwu-codespace.github.io/zh/posts/tech/">💻 技术</a></div>

    <h1 class="post-title entry-hint-parent">
      学习：Node.js &amp; Webpack 
    </h1>
    <div class="post-meta"><span title='2024-03-30 00:00:00 +0000 UTC'>三月 30, 2024</span>&nbsp;·&nbsp;18 分钟&nbsp;·&nbsp;Jingyi Wu

      <div class="meta-item">&nbsp·&nbsp
        <span id="busuanzi_container_page_pv">Views:<span id="busuanzi_value_page_pv"></span></span>
      </div>


    </div>
  </header> <div class="toc">
        <details >
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#nodejs-%e5%bc%95%e5%85%a5" aria-label="Node.js 引入">Node.js 引入</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-%e4%bb%80%e4%b9%88%e6%98%afnodejs" aria-label="1. 什么是Node.js?">1. 什么是Node.js?</a></li>
                    <li>
                        <a href="#2-%e4%bb%80%e4%b9%88%e6%98%af%e5%89%8d%e7%ab%af%e5%b7%a5%e7%a8%8b%e5%8c%96" aria-label="2. 什么是前端工程化？">2. 什么是前端工程化？</a></li>
                    <li>
                        <a href="#3-nodejs-%e4%b8%ba%e4%bd%95%e8%83%bd%e6%89%a7%e8%a1%8c-js-" aria-label="3. Node.js 为何能执行 JS ?">3. Node.js 为何能执行 JS ?</a></li>
                    <li>
                        <a href="#4-nodejs-%e5%ae%89%e8%a3%85" aria-label="4. Node.js 安装">4. Node.js 安装</a></li>
                    <li>
                        <a href="#%e6%80%bb%e7%bb%93" aria-label="总结">总结</a></li></ul>

                    </li>
                    <li>
                        <a href="#nodejs%e6%a8%a1%e5%9d%97" aria-label="Node.js模块">Node.js模块</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-fs-%e6%a8%a1%e5%9d%97---%e8%af%bb%e5%86%99%e6%96%87%e4%bb%b6" aria-label="1. fs 模块 - 读写文件">1. fs 模块 - 读写文件</a></li>
                    <li>
                        <a href="#2-path-%e6%a8%a1%e5%9d%97-%e8%b7%af%e5%be%84%e5%a4%84%e7%90%86" aria-label="2. path 模块-路径处理">2. path 模块-路径处理</a></li>
                    <li>
                        <a href="#3-%e6%a1%88%e4%be%8b-%e5%8e%8b%e7%bc%a9%e5%89%8d%e7%ab%af-html" aria-label="3. 案例-压缩前端 html">3. 案例-压缩前端 html</a></li>
                    <li>
                        <a href="#4-url-%e7%9a%84%e7%ab%af%e5%8f%a3%e5%8f%b7" aria-label="4. URL 的端口号">4. URL 的端口号</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#%e5%b8%b8%e8%a7%81%e7%9a%84%e6%9c%8d%e5%8a%a1%e7%a8%8b%e5%ba%8f" aria-label="常见的服务程序">常见的服务程序</a></li></ul>

                    </li>
                    <li>
                        <a href="#5-http-%e6%a8%a1%e5%9d%97---%e5%88%9b%e5%bb%baweb%e6%9c%8d%e5%8a%a1" aria-label="5. http 模块 - 创建web服务">5. http 模块 - 创建web服务</a></li>
                    <li>
                        <a href="#6-%e6%a1%88%e4%be%8b---%e6%b5%8f%e8%a7%88%e6%97%b6%e9%92%9f" aria-label="6. 案例 - 浏览时钟">6. 案例 - 浏览时钟</a></li></ul>

                    </li>
                    <li>
                        <a href="#%e6%a8%a1%e5%9d%97%e5%8c%96" aria-label="模块化">模块化</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-%e5%ae%9a%e4%b9%89" aria-label="1. 定义">1. 定义</a></li>
                    <li>
                        <a href="#2-%e4%bd%bf%e7%94%a8" aria-label="2. 使用">2. 使用</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-%e8%af%ad%e6%b3%95" aria-label="1. 语法">1. 语法</a></li>
                    <li>
                        <a href="#2-%e6%a8%a1%e5%9d%97%e5%90%8d%e6%88%96%e8%b7%af%e5%be%84" aria-label="2. 模块名或路径">2. 模块名或路径</a></li>
                    <li>
                        <a href="#commomjs-%e6%a0%87%e5%87%86" aria-label="CommomJS 标准">CommomJS 标准</a></li>
                    <li>
                        <a href="#ecmascript-%e6%a0%87%e5%87%86---%e9%bb%98%e8%ae%a4%e5%88%b0%e5%a4%84%e5%af%bc%e5%85%a5" aria-label="ECMAScript 标准 - 默认到处导入">ECMAScript 标准 - 默认到处导入</a></li>
                    <li>
                        <a href="#ecmascript-%e6%a0%87%e5%87%86---%e5%91%bd%e5%90%8d%e5%af%bc%e5%87%ba%e5%92%8c%e5%af%bc%e5%85%a5" aria-label="ECMAScript 标准 - 命名导出和导入">ECMAScript 标准 - 命名导出和导入</a></li></ul>

                    </li></ul>

                    </li>
                    <li>
                        <a href="#%e5%8c%85" aria-label="包">包</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-%e5%8c%85%e5%88%86%e7%b1%bb" aria-label="1. 包分类">1. 包分类</a></li></details>
                            </ul>


                            </ul>

                    </li>
                    <li>
                        <a href="#npm" aria-label="npm">npm</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#2-%e4%bd%bf%e7%94%a8%e6%a1%88%e4%be%8b" aria-label="2. 使用案例">2. 使用案例</a></li></details>
                            </ul>


                            
                    <li>
                        <a href="#2-npm---%e5%ae%89%e8%a3%85%e6%89%80%e6%9c%89%e4%be%9d%e8%b5%96" aria-label="2. npm - 安装所有依赖">2. npm - 安装所有依赖</a></li>
                    <li>
                        <a href="#3-npm---%e5%85%a8%e5%b1%80%e8%bd%af%e4%bb%b6%e5%8c%85-nodemon" aria-label="3. npm - 全局软件包 nodemon">3. npm - 全局软件包 nodemon</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#%e8%bd%af%e4%bb%b6%e5%8c%85%e5%8c%ba%e5%88%ab" aria-label="软件包区别">软件包区别</a></li>
                    <li>
                        <a href="#nodemon%e4%bd%bf%e7%94%a8" aria-label="nodemon使用">nodemon使用</a></li></ul>

                    </li></ul>

                    </li>
                    <li>
                        <a href="#nodejs-%e6%80%bb%e7%bb%93" aria-label="Node.js 总结">Node.js 总结</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#nodejs-%e6%a8%a1%e5%9d%97%e5%8c%96" aria-label="Node.js 模块化">Node.js 模块化</a></li>
                    <li>
                        <a href="#nodejs-%e5%8c%85" aria-label="Node.js 包">Node.js 包</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#nodejs-%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" aria-label="Node.js 常用命令">Node.js 常用命令</a></li></ul>

                    </li></ul>

                    </li>
                    <li>
                        <a href="#webpack-%e5%bc%95%e5%85%a5" aria-label="Webpack 引入">Webpack 引入</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-%e5%ae%9a%e4%b9%89-1" aria-label="1. 定义">1. 定义</a></li>
                    <li>
                        <a href="#2-%e6%89%a7%e8%a1%8c%e6%ad%a5%e9%aa%a4" aria-label="2. 执行步骤">2. 执行步骤</a></li></ul>

                    </li>
                    <li>
                        <a href="#webpack-%e6%89%93%e5%8c%85%e5%85%a5%e5%8f%a3%e5%92%8c%e5%87%ba%e5%8f%a3%e4%bf%ae%e6%94%b9" aria-label="Webpack 打包入口和出口修改">Webpack 打包入口和出口修改</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-%e9%bb%98%e8%ae%a4%e5%80%bc" aria-label="1. 默认值">1. 默认值</a></li>
                    <li>
                        <a href="#2-webpack%e7%9a%84%e5%ae%98%e6%96%b9%e7%bd%91%e5%9d%80" aria-label="2. Webpack的官方网址">2. Webpack的官方网址</a></li>
                    <li>
                        <a href="#3-webpack-%e4%bf%ae%e6%94%b9%e5%85%a5%e5%8f%a3-entry" aria-label="3. Webpack 修改入口 (entry)">3. Webpack 修改入口 (entry)</a></li>
                    <li>
                        <a href="#4-webpack-%e4%bf%ae%e6%94%b9%e5%87%ba%e5%8f%a3-output" aria-label="4. Webpack 修改出口 (output)">4. Webpack 修改出口 (output)</a></li>
                    <li>
                        <a href="#5-%e6%a1%88%e4%be%8b-%e7%94%a8%e6%88%b7%e7%99%bb%e5%bd%95" aria-label="5. 案例 用户登录">5. 案例 用户登录</a></li>
                    <li>
                        <a href="#6-webpack-%e8%87%aa%e5%8a%a8%e7%94%9f%e6%88%90html%e6%96%87%e4%bb%b6" aria-label="6. Webpack 自动生成html文件">6. Webpack 自动生成html文件</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-html-wabpack-plugin-%e6%8f%92%e4%bb%b6" aria-label="1. Html-wabpack-plugin 插件">1. Html-wabpack-plugin 插件</a></li>
                    <li>
                        <a href="#%e5%ae%89%e8%a3%85" aria-label="安装">安装</a></li>
                    <li>
                        <a href="#%e5%9f%ba%e6%9c%ac%e7%94%a8%e6%b3%95%e5%8f%8a%e6%ad%a5%e9%aa%a4" aria-label="基本用法及步骤">基本用法及步骤</a></li></ul>

                    </li>
                    <li>
                        <a href="#7-webpack%e6%89%93%e5%8c%85css%e4%bb%a3%e7%a0%81" aria-label="7. Webpack打包css代码">7. Webpack打包css代码</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-%e5%ae%89%e8%a3%85-css-loader" aria-label="1. 安装 css-loader">1. 安装 css-loader</a></li>
                    <li>
                        <a href="#2-filejs" aria-label="2. file.js">2. file.js</a></li>
                    <li>
                        <a href="#3-%e5%b0%86loader%e5%bc%95%e7%94%a8%e5%88%b0webpak%e7%9a%84%e9%85%8d%e7%bd%ae%e4%b8%ad" aria-label="3. 将loader引用到webpak的配置中">3. 将loader引用到webpak的配置中</a></li>
                    <li>
                        <a href="#%e6%ad%a5%e9%aa%a4" aria-label="步骤">步骤</a></li></ul>

                    </li>
                    <li>
                        <a href="#8-%e4%bc%98%e5%8c%96---%e6%8f%90%e5%8f%96-css-%e4%bb%a3%e7%a0%81" aria-label="8. 优化 - 提取 css 代码">8. 优化 - 提取 css 代码</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-%e4%bd%bf%e7%94%a8-minicssextractplugin%e6%8f%92%e4%bb%b6%e6%ad%a5%e9%aa%a4" aria-label="1. 使用 MiniCssExtractPlugin插件步骤">1. 使用 MiniCssExtractPlugin插件步骤</a></li></ul>

                    </li>
                    <li>
                        <a href="#9-%e4%bc%98%e5%8c%96---%e6%8f%90%e5%8f%96-css-%e4%bb%a3%e7%a0%81%e7%9a%84%e5%8e%8b%e7%bc%a9" aria-label="9. 优化 - 提取 css 代码的压缩">9. 优化 - 提取 css 代码的压缩</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#css-minimizer-webpack-plugin-%e6%8f%92%e4%bb%b6" aria-label="css-minimizer-webpack-plugin 插件">css-minimizer-webpack-plugin 插件</a></li></ul>

                    </li>
                    <li>
                        <a href="#10-webpack-%e6%89%93%e5%8c%85-less" aria-label="10. Webpack 打包 less">10. Webpack 打包 less</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-less-loader" aria-label="1. less-loader">1. less-loader</a></li>
                    <li>
                        <a href="#%e6%ad%a5%e9%aa%a4-1" aria-label="步骤">步骤</a></li></ul>

                    </li>
                    <li>
                        <a href="#11-webpack%e8%b5%84%e6%ba%90%e6%a8%a1%e5%9d%97" aria-label="11. Webpack资源模块">11. Webpack资源模块</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-%e6%89%93%e5%8c%85%e5%9b%be%e7%89%87" aria-label="1. 打包图片">1. 打包图片</a></li></ul>

                    </li>
                    <li>
                        <a href="#12-webpack%e7%83%ad%e6%9b%b4%e6%96%b0%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba" aria-label="12. webpack热更新环境搭建">12. webpack热更新环境搭建</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83" aria-label="1. 开发环境">1. 开发环境</a></li>
                    <li>
                        <a href="#2-%e4%b8%8b%e5%8c%85-webpackp-dev-server" aria-label="2. 下包 Webpackp-dev-server">2. 下包 Webpackp-dev-server</a></li>
                    <li>
                        <a href="#3-%e9%85%8d%e7%bd%ae%e5%8c%85" aria-label="3. 配置包">3. 配置包</a></li></ul>

                    </li>
                    <li>
                        <a href="#13-webpack-%e6%89%93%e5%8c%85%e6%a8%a1%e5%bc%8f" aria-label="13. Webpack 打包模式">13. Webpack 打包模式</a><ul>

                                
                                <details>
                                    <summary accesskey="c" title="(Alt + C)">
                                        <span id="details_list">详情</span>
                                    </summary>
                    <li>
                        <a href="#1-%e6%89%93%e5%8c%85%e6%a8%a1%e5%bc%8f" aria-label="1. 打包模式">1. 打包模式</a></li>
                    <li>
                        <a href="#2-%e5%88%86%e7%b1%bb" aria-label="2. 分类">2. 分类</a></li>
                    <li>
                        <a href="#3-%e8%ae%be%e7%bd%ae%e6%96%b9%e5%bc%8f" aria-label="3. 设置方式">3. 设置方式</a></li>
                    <li>
                        <a href="#4-%e6%89%93%e5%8c%85%e6%a8%a1%e5%bc%8f%e7%9a%84%e5%ba%94%e7%94%a8" aria-label="4. 打包模式的应用">4. 打包模式的应用</a></li></ul>

                    </li>
                    <li>
                        <a href="#14-%e5%89%8d%e7%ab%af-%e6%b3%a8%e5%85%a5%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f" aria-label="14. 前端-注入环境变量">14. 前端-注入环境变量</a></li>
                    <li>
                        <a href="#15-%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e8%b0%83%e9%94%99--source-map" aria-label="15. 开发环境调错 -source map">15. 开发环境调错 -source map</a></li>
                    <li>
                        <a href="#16-%e8%a7%a3%e6%9e%90%e5%88%ab%e5%90%8d-alias" aria-label="16. 解析别名 alias">16. 解析别名 alias</a>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
  <div class="post-content"><h1 id="nodejs-引入">Node.js 引入<a hidden class="anchor" aria-hidden="true" href="#nodejs-引入">#</a></h1>
<h2 id="1-什么是nodejs">1. 什么是Node.js?<a hidden class="anchor" aria-hidden="true" href="#1-什么是nodejs">#</a></h2>
<blockquote>
<p>Node.js 是一个跨平台 JavaScript运行环境，使开发者可以搭建服务端的JavaScript的应用程序</p>
</blockquote>
<p>作用：使用Node.js 便携服务器端程序</p>
<ul>
<li>编写数据接口，提供网页资源浏览功能等等</li>
<li>前端工程化：为后续学习Vue和React做铺垫</li>
</ul>
<h2 id="2-什么是前端工程化">2. 什么是前端工程化？<a hidden class="anchor" aria-hidden="true" href="#2-什么是前端工程化">#</a></h2>
<blockquote>
<p>开发项目直到上线，过程中继承的所有工具和技术</p>
</blockquote>
<ul>
<li>压缩工具 -&gt; 体积更小，更流畅</li>
<li>转换工具 -&gt; less 转 css， 转高版本JS</li>
<li>格式化工具</li>
<li>打包工具 -&gt; 整合前端代码</li>
<li>脚手架工具</li>
<li>自动化部署</li>
</ul>
<p>node.js 可以主动读取前端代码的内容，对前端代码进行相应的处理</p>
<h2 id="3-nodejs-为何能执行-js-">3. Node.js 为何能执行 JS ?<a hidden class="anchor" aria-hidden="true" href="#3-nodejs-为何能执行-js-">#</a></h2>
<ul>
<li>首先：浏览器能执行 JS 代码，依靠的是内核中的V8引擎 （C++程序）</li>
<li>其次： Node.js 是基于 Chrome V8 引擎进行封装 （运行环境）</li>
</ul>
<p><img loading="lazy" src="/img/Javascript/image-20240330231551295.png" alt="image-20240330231551295"  />
</p>
<h2 id="4-nodejs-安装">4. Node.js 安装<a hidden class="anchor" aria-hidden="true" href="#4-nodejs-安装">#</a></h2>
<p>下载 node-v16.19.0 msi 安装程序 (指定版本：兼容vue-admin-template模版)，我不太想下载之前版本的Node.js, 发现 <a href="https://juejin.cn/post/7204454572889980965">https://juejin.cn/post/7204454572889980965</a> 这个教程中有切换版本的选项。</p>
<h2 id="总结">总结<a hidden class="anchor" aria-hidden="true" href="#总结">#</a></h2>
<ol>
<li>
<p>Node.js 是什么？</p>
<p>基于Chrome的V8引擎，独立执行JavaScript代码环境</p>
</li>
<li>
<p>Node.js 与 浏览器环境的 JS 最大区别？</p>
<p>Node.js 环境中没有 BOM 和 DOM</p>
</li>
<li>
<p>Node.js 有什么用？</p>
<p>编写后端程序： 提供数据和网页资源等等</p>
<p>前端工程化：集成各种开发使用的工具和技术</p>
</li>
<li>
<p>Node.js 如何执行代码?</p>
<p>在VSCode终端输入： <code>node xxx.js</code> 回车即可（注意路径）</p>
</li>
</ol>
<h1 id="nodejs模块">Node.js模块<a hidden class="anchor" aria-hidden="true" href="#nodejs模块">#</a></h1>
<h2 id="1-fs-模块---读写文件">1. fs 模块 - 读写文件<a hidden class="anchor" aria-hidden="true" href="#1-fs-模块---读写文件">#</a></h2>
<ul>
<li>
<p>模块： 类似插件，封装了方法/属性</p>
</li>
<li>
<p>fs模块：封装了与本机文件系统进行交互的方法/属性</p>
</li>
<li>
<p>语法：</p>
<p>加载 fs 模块对象</p>
<p>写入文件内容</p>
<p>读取文件内容</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">fs</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;fs&#39;</span><span style="color:#797593">)</span>   <span style="color:#9893a5">// fs是模块标识符：模块的名字
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">fs</span><span style="color:#797593">.</span><span style="color:#d7827e">writeFile</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;文件路径&#39;</span><span style="color:#797593">,</span> <span style="color:#ea9d34">&#39;写入内容&#39;</span><span style="color:#797593">,</span><span style="color:#d7827e">err</span><span style="color:#797593">=&gt;{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#9893a5">// 写入后的回调函数
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span><span style="color:#797593">})</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">fs</span><span style="color:#797593">.</span><span style="color:#d7827e">readFile</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;文件路径&#39;</span><span style="color:#797593">,(</span><span style="color:#d7827e">err</span><span style="color:#797593">,</span><span style="color:#d7827e">data</span><span style="color:#797593">)=&gt;{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#9893a5">// 读取后的回调函数
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#286983">if</span><span style="color:#797593">(</span><span style="color:#d7827e">err</span><span style="color:#797593">)</span><span style="color:#d7827e">console</span><span style="color:#797593">.</span><span style="color:#d7827e">log</span><span style="color:#797593">(</span><span style="color:#d7827e">err</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#286983">else</span> <span style="color:#d7827e">console</span><span style="color:#797593">.</span><span style="color:#d7827e">log</span><span style="color:#797593">(</span><span style="color:#d7827e">data</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#9893a5">// data是文件内容的Buffer数据流
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#9893a5">// 这时候是16进制
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#9893a5">//如果想显示原有字符
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#d7827e">console</span><span style="color:#797593">.</span><span style="color:#d7827e">log</span><span style="color:#797593">(</span><span style="color:#d7827e">data</span><span style="color:#797593">.</span><span style="color:#d7827e">toString</span><span style="color:#797593">())</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">})</span>
</span></span></code></pre></div><h2 id="2-path-模块-路径处理">2. path 模块-路径处理<a hidden class="anchor" aria-hidden="true" href="#2-path-模块-路径处理">#</a></h2>
<blockquote>
<p>问题： Node.js 代码中，相对路径是根据终端所在路径来查找，可能无法找到你想要的文件</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">fs</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;fs&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">fs</span><span style="color:#797593">.</span><span style="color:#d7827e">readFile</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;../test.txt&#39;</span><span style="color:#797593">,(</span><span style="color:#d7827e">err</span><span style="color:#797593">,</span><span style="color:#d7827e">data</span><span style="color:#797593">)=&gt;{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#286983">if</span> <span style="color:#797593">(</span><span style="color:#d7827e">err</span><span style="color:#797593">)</span>  <span style="color:#d7827e">console</span><span style="color:#797593">.</span><span style="color:#d7827e">log</span><span style="color:#797593">(</span><span style="color:#d7827e">err</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#286983">else</span> <span style="color:#d7827e">console</span><span style="color:#797593">.</span><span style="color:#d7827e">log</span><span style="color:#797593">(</span><span style="color:#d7827e">data</span><span style="color:#797593">.</span><span style="color:#d7827e">toString</span><span style="color:#797593">())</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">})</span>
</span></span></code></pre></div><p>解决方案：</p>
<p>建议： 在Node.js 代码中使用绝对路径</p>
<p>补充： _dirname 内置变量 (获取当前模块目录-绝对路径)</p>
<p>注意：path.join() 会使用特定于平台的分隔符，作为定界符，将所有给定的路径片段连接在一起</p>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">fn</span> <span style="color:#797593">=</span> <span style="color:#d7827e">request</span> <span style="color:#797593">(</span><span style="color:#ea9d34">&#39;fs&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">path</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;path&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">cnosole</span><span style="color:#797593">.</span><span style="color:#d7827e">log</span><span style="color:#797593">(</span><span style="color:#d7827e">__dirname</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">fs</span><span style="color:#797593">.</span><span style="color:#d7827e">readFile</span><span style="color:#797593">(</span><span style="color:#d7827e">path</span><span style="color:#797593">.</span><span style="color:#d7827e">join</span><span style="color:#797593">(</span><span style="color:#d7827e">__dirname</span><span style="color:#797593">,</span><span style="color:#ea9d34">&#39;../test.txt&#39;</span><span style="color:#797593">),(</span><span style="color:#d7827e">err</span><span style="color:#797593">,</span><span style="color:#d7827e">data</span><span style="color:#797593">)=&gt;{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#286983">if</span> <span style="color:#797593">(</span><span style="color:#d7827e">err</span><span style="color:#797593">)</span><span style="color:#d7827e">console</span><span style="color:#797593">.</span><span style="color:#d7827e">log</span><span style="color:#797593">(</span><span style="color:#d7827e">err</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#286983">else</span> <span style="color:#d7827e">console</span><span style="color:#797593">.</span><span style="color:#d7827e">log</span><span style="color:#797593">(</span><span style="color:#d7827e">data</span><span style="color:#797593">.</span><span style="color:#d7827e">toString</span><span style="color:#797593">())</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">})</span>
</span></span></code></pre></div><h2 id="3-案例-压缩前端-html">3. 案例-压缩前端 html<a hidden class="anchor" aria-hidden="true" href="#3-案例-压缩前端-html">#</a></h2>
<p>需求：把 回车符 (\r) 和换行符 (\n)去掉后，写入到新的html文件中</p>
<p>步骤：</p>
<ol>
<li>读取源html文件内容</li>
<li>正则替换字符串</li>
<li>写入到新的html文件中</li>
</ol>
<h2 id="4-url-的端口号">4. URL 的端口号<a hidden class="anchor" aria-hidden="true" href="#4-url-的端口号">#</a></h2>
<ul>
<li>URL: 统一资源定位符</li>
<li>端口号：标记服务器里不同功能的服务程序</li>
<li>端口号范围： 0-65535之间的任意整数</li>
</ul>
<p><img loading="lazy" src="/img/Javascript/image-20240331233448750.png" alt="image-20240331233448750"  />
</p>
<p><img loading="lazy" src="/img/Javascript/image-20240401110756115.png" alt="image-20240401110756115"  />
</p>
<p>注意：http协议，默认访问80端口</p>
<p><img loading="lazy" src="/img/Javascript/image-20240401110917410.png" alt="image-20240401110917410"  />
</p>
<h3 id="常见的服务程序">常见的服务程序<a hidden class="anchor" aria-hidden="true" href="#常见的服务程序">#</a></h3>
<ul>
<li>web服务程序： 用于提供网上信息浏览功能</li>
<li>注意： 0-1023 和一些特定端口号被占用，自己编写服务程序请避开使用</li>
</ul>
<p>总结</p>
<ul>
<li>
<p>端口号的作用？</p>
<p>标记区分服务器里__不同的服务程序__，通过端口号访问不同的功能</p>
</li>
<li>
<p>什么叫web服务程序？</p>
<p>提供浏览器 网上信息浏览的程序代码</p>
</li>
</ul>
<h2 id="5-http-模块---创建web服务">5. http 模块 - 创建web服务<a hidden class="anchor" aria-hidden="true" href="#5-http-模块---创建web服务">#</a></h2>
<blockquote>
<p>创建web服务并响应内容给浏览器</p>
</blockquote>
<p>步骤：</p>
<ol>
<li>
<p>加载 http模块， 创建Web服务对象</p>
</li>
<li>
<p>监听request请求事件，设置响应头和响应体</p>
<p>res 是响应对象</p>
</li>
<li>
<p>配置端口号并启动Web服务</p>
</li>
<li>
<p>浏览器请求： http://localhost:3000 测试</p>
<p>(localhost： 固定代表本机的域名)</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">http</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;http&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">server</span> <span style="color:#797593">=</span> <span style="color:#d7827e">http</span><span style="color:#797593">.</span><span style="color:#d7827e">creatServer</span><span style="color:#797593">()</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">server</span><span style="color:#797593">.</span><span style="color:#d7827e">on</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;request&#39;</span><span style="color:#797593">,(</span><span style="color:#d7827e">req</span><span style="color:#797593">,</span><span style="color:#d7827e">res</span><span style="color:#797593">)=&gt;{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#9893a5">// 设置响应头：内容类型，普通文本；编码格式utf-8
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#d7827e">res</span><span style="color:#797593">.</span><span style="color:#d7827e">setHeader</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;Content-Type&#39;</span><span style="color:#797593">,</span><span style="color:#ea9d34">&#39;text/plain;charset=utf-8&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#9893a5">// 设置响应体内容，结束本次请求与响应
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#d7827e">res</span><span style="color:#797593">.</span><span style="color:#d7827e">end</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;您好，欢迎使用node.js创建的web服务&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">})</span>
</span></span><span style="display:flex;"><span><span style="color:#9893a5">// 1.3 配置端口号并启动Web服务
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5">// 启动计算机进程监听 是否有人请求
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span><span style="color:#d7827e">server</span><span style="color:#797593">.</span><span style="color:#d7827e">listen</span><span style="color:#797593">(</span><span style="color:#ea9d34">3000</span><span style="color:#797593">,()=&gt;{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">console</span><span style="color:#797593">.</span><span style="color:#d7827e">log</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;Web 服务已经启动&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">})</span>
</span></span></code></pre></div><h2 id="6-案例---浏览时钟">6. 案例 - 浏览时钟<a hidden class="anchor" aria-hidden="true" href="#6-案例---浏览时钟">#</a></h2>
<blockquote>
<p>基于Web服务，开发提供网页资源的功能</p>
</blockquote>
<p><img loading="lazy" src="/img/Javascript/image-20240401142410736.png" alt="image-20240401142410736"  />
</p>
<p>步骤：</p>
<ol>
<li>基于 http 模块，创建 Web 服务</li>
<li>使用 req.url 获取请求资源路径，判断并读取 index.html 里面的字符串内容返回给请求方</li>
<li>其他路径，暂时返回不存在的提示</li>
<li>运行 Web 服务，用浏览器发起请求测试</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#9893a5">// 1. 引入模块
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span><span style="color:#286983">const</span> <span style="color:#d7827e">fs</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;fs&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">path</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;path&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">http</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;http&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">server</span> <span style="color:#797593">=</span> <span style="color:#d7827e">http</span><span style="color:#797593">.</span><span style="color:#d7827e">createServer</span><span style="color:#797593">()</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#9893a5">// 2.  使用req.url 获取请求资源路径，并读取index.html 里面的字符串返回至请求方
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span><span style="color:#d7827e">server</span><span style="color:#797593">.</span><span style="color:#d7827e">on</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;request&#39;</span><span style="color:#797593">,</span> <span style="color:#797593">(</span><span style="color:#d7827e">req</span><span style="color:#797593">,</span> <span style="color:#d7827e">res</span><span style="color:#797593">)</span> <span style="color:#797593">=&gt;</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#286983">if</span> <span style="color:#797593">(</span><span style="color:#d7827e">req</span><span style="color:#797593">.</span><span style="color:#d7827e">url</span> <span style="color:#797593">===</span> <span style="color:#ea9d34">&#39;/index.html&#39;</span><span style="color:#797593">)</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">fs</span><span style="color:#797593">.</span><span style="color:#d7827e">readFile</span><span style="color:#797593">(</span><span style="color:#d7827e">path</span><span style="color:#797593">.</span><span style="color:#d7827e">join</span><span style="color:#797593">(</span><span style="color:#d7827e">__dirname</span><span style="color:#797593">,</span> <span style="color:#ea9d34">&#39;dist/index.html&#39;</span><span style="color:#797593">),</span> <span style="color:#797593">(</span><span style="color:#d7827e">err</span><span style="color:#797593">,</span> <span style="color:#d7827e">data</span><span style="color:#797593">)</span> <span style="color:#797593">=&gt;</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#286983">if</span> <span style="color:#797593">(</span><span style="color:#d7827e">err</span><span style="color:#797593">)</span> <span style="color:#d7827e">console</span><span style="color:#797593">.</span><span style="color:#d7827e">log</span><span style="color:#797593">(</span><span style="color:#d7827e">err</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>      <span style="color:#286983">else</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#9893a5">// 设置响应内容类型 html 超文本字符串，让浏览器解析成标签网页等
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>        <span style="color:#d7827e">res</span><span style="color:#797593">.</span><span style="color:#d7827e">setHeader</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;Content-Type&#39;</span><span style="color:#797593">,</span> <span style="color:#ea9d34">&#39;text/html;charset=utf-8&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d7827e">res</span><span style="color:#797593">.</span><span style="color:#d7827e">end</span><span style="color:#797593">(</span><span style="color:#d7827e">data</span><span style="color:#797593">.</span><span style="color:#d7827e">toString</span><span style="color:#797593">())</span>
</span></span><span style="display:flex;"><span>      <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">})</span>
</span></span><span style="display:flex;"><span>  <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#286983">else</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#9893a5">// 3. 其他路径暂时返回不存在提示
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#d7827e">res</span><span style="color:#797593">.</span><span style="color:#d7827e">setHeader</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;Content-Type&#39;</span><span style="color:#797593">,</span> <span style="color:#ea9d34">&#39;text/html;charset=utf-8&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">res</span><span style="color:#797593">.</span><span style="color:#d7827e">end</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;请求路径不存在&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">})</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">server</span><span style="color:#797593">.</span><span style="color:#d7827e">listen</span><span style="color:#797593">(</span><span style="color:#ea9d34">8080</span><span style="color:#797593">,</span> <span style="color:#797593">()</span> <span style="color:#797593">=&gt;</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#d7827e">console</span><span style="color:#797593">.</span><span style="color:#d7827e">log</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;原神启动!!&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">})</span>
</span></span></code></pre></div><h1 id="模块化">模块化<a hidden class="anchor" aria-hidden="true" href="#模块化">#</a></h1>
<h2 id="1-定义">1. 定义<a hidden class="anchor" aria-hidden="true" href="#1-定义">#</a></h2>
<ul>
<li><code>CommonJS</code> 模块是为 <code>Node.js</code> 打包 JavaScript 代码的原始方式。</li>
<li><code>Node.js</code> 还支持浏览器和其他 JavaScript 运行时使用的<code>ECMAScript</code>模块 标准。</li>
<li>在Node.js中，每一个文件都被视为一个单独的模块</li>
</ul>
<ol>
<li>
<p>概念： 项目是由很多的模块文件组成</p>
</li>
<li>
<p>好处： 提高代码复用性，按需加载，独立作用域</p>
</li>
<li>
<p>使用：需要标准语法导出、导入进行使用。这个标准语法就是 CommomJS</p>
</li>
</ol>
<h2 id="2-使用">2. 使用<a hidden class="anchor" aria-hidden="true" href="#2-使用">#</a></h2>
<h3 id="1-语法">1. 语法<a hidden class="anchor" aria-hidden="true" href="#1-语法">#</a></h3>
<ol>
<li>导出： module.exports = {}</li>
<li>导入：require(&lsquo;模块名或路径&rsquo;)</li>
</ol>
<h3 id="2-模块名或路径">2. 模块名或路径<a hidden class="anchor" aria-hidden="true" href="#2-模块名或路径">#</a></h3>
<h3 id="commomjs-标准">CommomJS 标准<a hidden class="anchor" aria-hidden="true" href="#commomjs-标准">#</a></h3>
<ul>
<li>
<p><input checked="" disabled="" type="checkbox"> 内置模块：直接写名字 （例如：fs,  path,  http）</p>
</li>
<li>
<p><input checked="" disabled="" type="checkbox"> 自定义模块： 写模块文件路径（例如： ./utils.js）</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">baseURL</span> <span style="color:#797593">=</span> <span style="color:#ea9d34">&#39;http://hmajax.itheima.net&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">getArraySum</span> <span style="color:#797593">=</span> <span style="color:#d7827e">arr</span> <span style="color:#797593">=&gt;</span> <span style="color:#d7827e">arr</span><span style="color:#797593">.</span><span style="color:#d7827e">reduce</span><span style="color:#797593">((</span><span style="color:#d7827e">sum</span><span style="color:#797593">,</span><span style="color:#d7827e">val</span><span style="color:#797593">)=&gt;</span><span style="color:#d7827e">sum</span><span style="color:#797593">+=</span><span style="color:#d7827e">val</span><span style="color:#797593">,</span><span style="color:#ea9d34">0</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">对外属性1</span><span style="color:#797593">:</span><span style="color:#d7827e">baseURL</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">对外属性2</span><span style="color:#797593">:</span><span style="color:#d7827e">getArraySum</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">obj</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;模块名或路径&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#9893a5">// obj 等于 module.exports 导出的对象
</span></span></span></code></pre></div><p>总结：</p>
<ol>
<li>
<p>Node.js 中什么是模块化?</p>
<p>每个文件都是独立的模块</p>
</li>
<li>
<p>模块之间如何联系？</p>
<p>使用特定的语法，导出和导入使用</p>
</li>
<li>
<p>CommonJS 标准规定如何导出和导入模块？</p>
<p>导出： module.exports = {}</p>
<p>导入： require(&lsquo;模块名或路径&rsquo;)</p>
</li>
<li>
<p>模块名/路径如何选择？</p>
<p>内置模块，直接写名字，例如：fs ,path, http 等</p>
<p>自定义模块，写模块文件路径，例如：./utils.js</p>
</li>
</ol>
<h3 id="ecmascript-标准---默认到处导入">ECMAScript 标准 - 默认到处导入<a hidden class="anchor" aria-hidden="true" href="#ecmascript-标准---默认到处导入">#</a></h3>
<blockquote>
<p>封装并导出基地址和求数组元素和的函数</p>
</blockquote>
<p>默认标准使用：</p>
<ol>
<li>导出： export default()</li>
<li>导入：import 变量名 from &lsquo;模块名或路径&rsquo;</li>
</ol>
<p>注意： Node.js 默认支持 CommonJS 标准语法。 如需使用ECMAScript标准语法，在运行模块所在文件夹新建 <code>package.json</code> 文件，并设置 <code>{'type':'module'}</code></p>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">baseURL</span> <span style="color:#797593">=</span> <span style="color:#ea9d34">&#39;http://hmajax.itheima.net&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">getArraySum</span> <span style="color:#797593">=</span> <span style="color:#d7827e">arr</span><span style="color:#797593">=&gt;{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">arr</span><span style="color:#797593">.</span><span style="color:#d7827e">reduce</span><span style="color:#797593">((</span><span style="color:#d7827e">sum</span><span style="color:#797593">,</span><span style="color:#d7827e">val</span><span style="color:#797593">)=&gt;</span> <span style="color:#d7827e">sum</span><span style="color:#797593">+=</span><span style="color:#d7827e">val</span><span style="color:#797593">,</span><span style="color:#ea9d34">0</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span><span style="color:#9893a5">// 导出
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span><span style="color:#286983">export</span> <span style="color:#286983">default</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">对外属性1</span><span style="color:#797593">:</span><span style="color:#d7827e">baseURL</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">对外属性2</span><span style="color:#797593">:</span><span style="color:#d7827e">getArraySum</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span><span style="color:#9893a5">// 导入
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span><span style="color:#286983">import</span> <span style="color:#d7827e">obj</span> <span style="color:#d7827e">from</span> <span style="color:#ea9d34">&#39;模块名或路径&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#9893a5">// obj 等于 export default 导出对象
</span></span></span></code></pre></div><p>总结：</p>
<ol>
<li>
<p>ECMAScript 标准规定 默认到处和导入模块</p>
<p>导出：export defalut{}</p>
<p>导入： import 变量名 from &rsquo; 模块名或路径 '</p>
</li>
<li>
<p>如何让Node.js 切换模块为ECMAScript?</p>
<p>运行模块所在文件夹，新建 package.json并设置</p>
<p><code>{&quot;type&quot;:&quot;module&quot;}</code></p>
</li>
</ol>
<h3 id="ecmascript-标准---命名导出和导入">ECMAScript 标准 - 命名导出和导入<a hidden class="anchor" aria-hidden="true" href="#ecmascript-标准---命名导出和导入">#</a></h3>
<blockquote>
<p>封装并导出基地址和求数组元素和的函数</p>
</blockquote>
<p>命名标准使用</p>
<ol>
<li>导出： export修饰定义语句</li>
<li>导入：import (同名变量) from &lsquo;模块名和路径&rsquo;</li>
</ol>
<p>如何选择命名/默认导出导入</p>
<ul>
<li>按需加载，使用命名导出和导入</li>
<li>全部加载，使用默认导出导入</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">export</span> <span style="color:#286983">const</span> <span style="color:#d7827e">baseURL</span> <span style="color:#797593">=</span> <span style="color:#ea9d34">&#39;http://hmajax.itheima.net&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#286983">export</span> <span style="color:#286983">const</span> <span style="color:#d7827e">getArraySum</span> <span style="color:#797593">=</span> <span style="color:#d7827e">arr</span> <span style="color:#797593">=&gt;</span> <span style="color:#d7827e">arr</span><span style="color:#797593">.</span><span style="color:#d7827e">reduce</span><span style="color:#797593">((</span><span style="color:#d7827e">sum</span><span style="color:#797593">,</span><span style="color:#d7827e">val</span><span style="color:#797593">)=&gt;</span><span style="color:#d7827e">sum</span><span style="color:#797593">+=</span><span style="color:#d7827e">val</span><span style="color:#797593">,</span><span style="color:#ea9d34">0</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#286983">import</span> <span style="color:#797593">{</span><span style="color:#d7827e">baseURL</span><span style="color:#797593">,</span> <span style="color:#d7827e">getArraySum</span><span style="color:#797593">}</span> <span style="color:#d7827e">from</span> <span style="color:#ea9d34">&#39;模块名或路径&#39;</span>
</span></span></code></pre></div><p>总结：</p>
<ol>
<li>
<p>Node.js 支持两种模块化辨准</p>
<p>CommonJS 标准语法 (默认)</p>
<p>ECMAScript 标准语法</p>
</li>
<li>
<p>ECEAScript 标准， 命名导出和导入的语法</p>
<p>导出： export 修饰定义的语句</p>
<p>导入： import { 同名变量 } from &lsquo;模块名或路径&rsquo;</p>
</li>
<li>
<p>ECEAScript 标准，默认导出和导入语法</p>
<p>导出：export default {}</p>
<p>导入：import 变量名 from &lsquo;模块名或路径&rsquo;</p>
</li>
</ol>
<h1 id="包">包<a hidden class="anchor" aria-hidden="true" href="#包">#</a></h1>
<blockquote>
<p>包：将模块，代码，其他资料聚合成一个文件夹</p>
</blockquote>
<h3 id="1-包分类">1. 包分类<a hidden class="anchor" aria-hidden="true" href="#1-包分类">#</a></h3>
<ul>
<li>项目包 ： 主要用于编写项目和业务逻辑</li>
<li>软件包： 封装工具和方法进行使用</li>
</ul>
<p>要求： 根目录中，必须有package.json文件 （记录包的清单信息）</p>
<p>注意： 导入软件包时，引入的默认是 index.js 模块文件/ main 属性指定的模块文件 （utils 工具包的唯一出口，作用：把所有工具模块方法集中起来，统一向外暴露）</p>
<blockquote>
<p>放入视频，因为老师有一些文件结构，我没有截图</p>
</blockquote>
<p>总结：</p>
<ol>
<li>
<p>什么是包？</p>
<p>将模块，代码，其他资料聚合成的文件夹。文件我们称之为模块</p>
</li>
<li>
<p>包分为2类</p>
<p>项目包： 编写项目代码的文件夹</p>
<p>软件包： 封装工具和方法</p>
</li>
<li>
<p>package.json 文件的作用？</p>
<p>记录了包的信息/作者/名字/入口信息</p>
</li>
<li>
<p>导入一个包文件夹的时候，默认导入index.js 文件或package main属性指定的文件</p>
</li>
</ol>
<h1 id="npm">npm<a hidden class="anchor" aria-hidden="true" href="#npm">#</a></h1>
<blockquote>
<p>npm 是Node.js 标准的软件包管理器，作为下载和管理 Node.js 包依赖的方式</p>
</blockquote>
<p>##1 .npm 软件包 使用</p>
<ol>
<li>初始化清单文件： <code>npm init -y</code> （得到package.json 文件，可以记录当前项目中，下载了多少软件包）</li>
<li>下载软件包： <code>npm i 软件包名称</code></li>
<li>使用软件包</li>
</ol>
<h3 id="2-使用案例">2. 使用案例<a hidden class="anchor" aria-hidden="true" href="#2-使用案例">#</a></h3>
<ul>
<li>图解</li>
</ul>
<p><img loading="lazy" src="/img/Javascript/image-20240402001555040.png" alt="image-20240402001555040"  />
</p>
<p>总结：</p>
<ol>
<li>
<p>npm软件包管理器作用？</p>
<p>下载软件包以及管理版本</p>
</li>
<li>
<p>初始化项目清单文件 <code>package.json </code>命令</p>
<p><code>npm init -y</code></p>
</li>
<li>
<p>下载软件包的命令？</p>
<p><code>npm i 软件包名字</code></p>
</li>
<li>
<p>下载的包 存放地址</p>
<p>当前项目下的<code>node_modules</code>中，并记录<code>package.json</code>中</p>
</li>
</ol>
<h2 id="2-npm---安装所有依赖">2. npm - 安装所有依赖<a hidden class="anchor" aria-hidden="true" href="#2-npm---安装所有依赖">#</a></h2>
<ul>
<li>
<p>若收到项目文件中不包含node_modules 是否能正常运行？</p>
<p>不能，缺少依赖的本地软件包</p>
<p>原因： 因为自己用 npm下载依赖比磁盘传递拷贝要快得多</p>
</li>
<li>
<p>__解决方案: __</p>
<p>项目终端输入命令： <code>npm i</code></p>
<p>下载<code>package.json</code> 中记录的所有软件包</p>
</li>
</ul>
<h2 id="3-npm---全局软件包-nodemon">3. npm - 全局软件包 nodemon<a hidden class="anchor" aria-hidden="true" href="#3-npm---全局软件包-nodemon">#</a></h2>
<h3 id="软件包区别">软件包区别<a hidden class="anchor" aria-hidden="true" href="#软件包区别">#</a></h3>
<ul>
<li>本地软件包：当前项目内使用，封装属性和方法，存在于<code>node_modules</code></li>
<li>全局软件包：本机所有项目使用，封装命令和工具，存在于系统设置的位置</li>
</ul>
<p>nodemon作用：代替node命令，检测代码更改，自动重启程序</p>
<h3 id="nodemon使用">nodemon使用<a hidden class="anchor" aria-hidden="true" href="#nodemon使用">#</a></h3>
<ol>
<li>安装 <code>npm i nodemon -g</code> (-g 代表安装到全局环境中)</li>
<li>运行 <code>nodemon</code> 待执行的目标 js 文件</li>
</ol>
<p>总结：</p>
<ol>
<li>
<p>本地软件包和全局软件包区别</p>
<p>本地软件包，作用与当前项目，封装属性与方法</p>
<p>全局软件包，本机所有项目使用，封装命令和工具</p>
</li>
<li>
<p>nodemon 全局软件包的作用</p>
<p>替代node命令，检测代码更改，自动重启程序</p>
</li>
<li>
<p>nodemon怎么用？</p>
<p>先确保安装 npm i nodemon -g （只有是命令和工具的软件包才安装到全局）</p>
<p>使用 nodemon 执行目标js文件</p>
</li>
</ol>
<h1 id="nodejs-总结">Node.js 总结<a hidden class="anchor" aria-hidden="true" href="#nodejs-总结">#</a></h1>
<h2 id="nodejs-模块化">Node.js 模块化<a hidden class="anchor" aria-hidden="true" href="#nodejs-模块化">#</a></h2>
<p>概念： 每个文件当做一个模块，独立作用域，按需加载</p>
<p>使用： 采用特点的标准语法导出和导入进行使用</p>
<ul>
<li>
<p>CommonJS 标准</p>
<p>导出：<code>module.exports = {}</code></p>
<p>导入：<code>require('模块名或路径')</code></p>
</li>
<li>
<p>ECMAScript标准</p>
<p>默认模式：</p>
<p>导出：<code>export default {}</code></p>
<p>导入：<code>import 变量名 from '模块化路径'</code></p>
<p>命名模式:</p>
<p>导出：<code>export 修饰定义语句</code></p>
<p>导入：<code>import {同名变量} from'模块化路径' </code></p>
</li>
</ul>
<p>CommonJS 标准：一般应用在Node.js 项目环境中</p>
<p>ECMAScript标准：一般应用在前端工程化项目中</p>
<h2 id="nodejs-包">Node.js 包<a hidden class="anchor" aria-hidden="true" href="#nodejs-包">#</a></h2>
<blockquote>
<p>把模块文件，代码文件，其他资料聚合成一个文件夹</p>
</blockquote>
<p>项目包：编写项目需求和业务逻辑文件夹</p>
<p>软件包：封装工具和方法进行使用的文件夹 (一般使用npm管理)</p>
<ul>
<li>
<p>本地软件包： dayjs, loads, …</p>
<p>作用当前项目，一般封装的属性/方法，供项目调用编写业务需求</p>
</li>
<li>
<p>全局软件包:    nodemon</p>
<p>作用在所有项目，一般封装的命令/工具，支撑项目运行</p>
</li>
</ul>
<h3 id="nodejs-常用命令">Node.js 常用命令<a hidden class="anchor" aria-hidden="true" href="#nodejs-常用命令">#</a></h3>
<table>
<thead>
<tr>
<th>功能</th>
<th>命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>执行js文件</td>
<td>node index.js</td>
</tr>
<tr>
<td>初始化 packpage.json</td>
<td>npm init -y</td>
</tr>
<tr>
<td>下载本地软件包</td>
<td>npm i 软件包名</td>
</tr>
<tr>
<td>下载全局软件包</td>
<td>npm i 软件包名 -g</td>
</tr>
<tr>
<td>删除软件包</td>
<td>npm uni 软件包名</td>
</tr>
</tbody>
</table>
<h1 id="webpack-引入">Webpack 引入<a hidden class="anchor" aria-hidden="true" href="#webpack-引入">#</a></h1>
<h2 id="1-定义-1">1. 定义<a hidden class="anchor" aria-hidden="true" href="#1-定义-1">#</a></h2>
<blockquote>
<p>本质上， webpack是一个用于现代 JavaScript 应用程序的 静态模块打包工具，当webpack处理应用程序时，它会在内部从一个或多个入口点构建一个依赖图 (dependency graph), 然后将你的项目中所需要的每一个模块组合成一个或多个 bundles，它们均为静态资源，用于展示你的内容</p>
</blockquote>
<p>静态模块： 指的是编写代码过程中的 <code>html</code>, <code>css</code>,<code>js</code>,<code>图片</code>等固定内容的文件</p>
<p>打包：把静态模块内容 压缩，整合，转译等等 （前端工程化）</p>
<ul>
<li>把 less/sass 转换成 css代码</li>
<li>把 ES6+ 降级到 ES5</li>
<li>支持多种模块标准语法</li>
</ul>
<p>关于vite (另一种打包工具)，很多项目还是基于webpack构建，也为Vue, React脚手架使用做铺垫</p>
<h2 id="2-执行步骤">2. 执行步骤<a hidden class="anchor" aria-hidden="true" href="#2-执行步骤">#</a></h2>
<ol>
<li>
<p>准备项目和源代码</p>
</li>
<li>
<p>准备 webpack 打包的环境</p>
<p>新建自定义配置</p>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#9893a5">// 导入/导出标准
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span><span style="color:#ea9d34">&#34;type&#34;</span><span style="color:#b4637a">:</span> <span style="color:#ea9d34">&#34;module&#34;</span><span style="color:#b4637a">,</span>
</span></span><span style="display:flex;"><span><span style="color:#9893a5">// 添加自定义命令，调用build，使用webpack
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>  <span style="color:#ea9d34">&#34;scripts&#34;</span><span style="color:#b4637a">:</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">&#34;test&#34;</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">&#34;build&#34;</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#34;webpack&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#797593">}</span>
</span></span></code></pre></div></li>
<li>
<p>运行自定义命令打包观察效果</p>
<p><code>npm run 自定义命令</code></p>
<p>出现 dist 文件夹</p>
</li>
</ol>
<h1 id="webpack-打包入口和出口修改">Webpack 打包入口和出口修改<a hidden class="anchor" aria-hidden="true" href="#webpack-打包入口和出口修改">#</a></h1>
<h2 id="1-默认值">1. 默认值<a hidden class="anchor" aria-hidden="true" href="#1-默认值">#</a></h2>
<ul>
<li>默认打包入口： <code>src/index.js</code></li>
<li>默认打包出口：<code>dist/main.js</code></li>
</ul>
<p>步骤：</p>
<ol>
<li>项目根目录，新建 <code>webpack.config.js</code> 配置文件</li>
<li>导出配置对象，配置入口，出口文件的路径</li>
<li>重新打包观察</li>
</ol>
<p><strong>注意</strong>:  只有和入口产生直接/简介的引入关系，才会被打包</p>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">path</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;path&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">entry</span><span style="color:#797593">:</span> <span style="color:#d7827e">path</span><span style="color:#797593">.</span><span style="color:#d7827e">resolve</span><span style="color:#797593">(</span><span style="color:#d7827e">__dirname</span><span style="color:#797593">,</span> <span style="color:#ea9d34">&#39;src/login/index.js&#39;</span><span style="color:#797593">),</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">output</span><span style="color:#797593">:</span><span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d7827e">path</span><span style="color:#797593">:</span> <span style="color:#d7827e">path</span><span style="color:#797593">.</span><span style="color:#d7827e">resolve</span><span style="color:#797593">(</span><span style="color:#d7827e">__dirname</span><span style="color:#797593">,</span> <span style="color:#ea9d34">&#39;dist&#39;</span><span style="color:#797593">),</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d7827e">filename</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#39;./login/index.js&#39;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d7827e">clean</span><span style="color:#797593">:</span> <span style="color:#286983">true</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#9893a5">// 生成打包内容后，清空输出目录，只在webpack 5以上的版本才能使用
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span>
</span></span></code></pre></div><h2 id="2-webpack的官方网址">2. Webpack的官方网址<a hidden class="anchor" aria-hidden="true" href="#2-webpack的官方网址">#</a></h2>
<p>目前b站教的是webpack5 <code>webpack.docschina.org/concepts</code></p>
<h2 id="3-webpack-修改入口-entry">3. Webpack 修改入口 (entry)<a hidden class="anchor" aria-hidden="true" href="#3-webpack-修改入口-entry">#</a></h2>
<p>在 <code>webpack configuration</code>中配置<code>entry</code>属性，来指定一个或多个不同的入口起点</p>
<p>文件夹-&gt; 项目根目录中的<code>webpack.config.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">entry</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#39;./path/file.js&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">};</span>
</span></span></code></pre></div><h2 id="4-webpack-修改出口-output">4. Webpack 修改出口 (output)<a hidden class="anchor" aria-hidden="true" href="#4-webpack-修改出口-output">#</a></h2>
<p>在 <code>webpack configuration.js</code>中配置<code>output</code>属性，表明webpack在哪里输出创建的<code>bundle</code></p>
<p>文件夹-&gt; 项目根目录中的<code>webpack.config.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">path</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;path&#39;</span><span style="color:#797593">);</span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">entry</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#39;./path/file.js&#39;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">output</span><span style="color:#797593">:</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#9893a5">// 输出路径
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>        <span style="color:#d7827e">path</span><span style="color:#797593">:</span> <span style="color:#d7827e">path</span><span style="color:#797593">.</span><span style="color:#d7827e">resolve</span><span style="color:#797593">(</span><span style="color:#d7827e">__dirname</span><span style="color:#797593">,</span><span style="color:#ea9d34">&#39;dist&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#9893a5">// 打包后文件的名字
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>        <span style="color:#d7827e">filename</span><span style="color:#797593">:</span><span style="color:#ea9d34">&#39;my-first-webpack.bundle.js&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span>
</span></span></code></pre></div><h2 id="5-案例-用户登录">5. 案例 用户登录<a hidden class="anchor" aria-hidden="true" href="#5-案例-用户登录">#</a></h2>
<p>前端工程化思路： Webpack打包后的代码，在前端页面中的使用</p>
<p><img loading="lazy" src="/img/Javascript/image-20240402170606972.png" alt="image-20240402170606972"  />
</p>
<p>步骤：</p>
<ol>
<li>准备用户登录页面</li>
<li>编写核心JS逻辑代码</li>
<li>打包手动复制网页到dist下，引入打包后的js，运行</li>
</ol>
<h2 id="6-webpack-自动生成html文件">6. Webpack 自动生成html文件<a hidden class="anchor" aria-hidden="true" href="#6-webpack-自动生成html文件">#</a></h2>
<blockquote>
<p>前情提要： 之前打包后我们将原始的html文件，手动添加至输出文件夹，这回我们让webpack自动找到对应的html文件</p>
</blockquote>
<h3 id="1-html-wabpack-plugin-插件">1. Html-wabpack-plugin 插件<a hidden class="anchor" aria-hidden="true" href="#1-html-wabpack-plugin-插件">#</a></h3>
<p><code>HtmlWebpackPlugin</code>简化了HTML文件的创建，以便为webpack包提供服务，这对于文件名中包含哈希值，并且哈希值会随着每次编译而改变的webpack包非常有用。可以让该插件为用户生成HTML 文件，使用lodash提供模版，或者使用自己的loader</p>
<h3 id="安装">安装<a hidden class="anchor" aria-hidden="true" href="#安装">#</a></h3>
<p><code>npm install --save-dev html-webpack-plugin</code></p>
<p>&ndash;sav-dev 表示只在开发环境中使用</p>
<h3 id="基本用法及步骤">基本用法及步骤<a hidden class="anchor" aria-hidden="true" href="#基本用法及步骤">#</a></h3>
<blockquote>
<p>无论是什么功能都是 找包-&gt; 下包-&gt; 配置包</p>
</blockquote>
<ol>
<li>
<p>下载 Html-wabpack-plugin 本地软件包</p>
<p>该插件将为你生成一个HTML5文件，在body中使用script变迁引入你所有webpack生成的bundle，只需添加该插件到你的webpack配置中</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">HtmlWebpackPlugin</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;html-webpack-plugin&#39;</span><span style="color:#797593">);</span>
</span></span><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">path</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;path&#39;</span><span style="color:#797593">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">entry</span><span style="color:#797593">:</span> <span style="color:#d7827e">index</span><span style="color:#797593">.</span><span style="color:#d7827e">js</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">output</span><span style="color:#797593">:</span><span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d7827e">path</span><span style="color:#797593">:</span> <span style="color:#d7827e">path</span><span style="color:#797593">.</span><span style="color:#d7827e">resolve</span><span style="color:#797593">(</span><span style="color:#d7827e">__dirname</span><span style="color:#797593">,</span> <span style="color:#ea9d34">&#39;./dist&#39;</span><span style="color:#797593">),</span>
</span></span><span style="display:flex;"><span>        <span style="color:#9893a5">// 输出文件
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>        <span style="color:#d7827e">filename</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#39;index_bundle.js&#39;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#9893a5">//这个位置
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#d7827e">plugins</span><span style="color:#797593">:</span> <span style="color:#797593">[</span><span style="color:#286983">new</span> <span style="color:#d7827e">HtmlWepackPlugin</span><span style="color:#797593">()],</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">};</span>
</span></span></code></pre></div><ol start="2">
<li>
<p>配置webpack.config.js 让 Webpack 拥有插件功能</p>
<ul>
<li>
<p>会在<code>dist</code>文件下生成<code>index.html</code>， 如果有多个webpack入口，都会在已生成<code>HTML</code>文件中的<code>&lt;script&gt;</code>标签内引入。</p>
</li>
<li>
<p>如果在webpack的输出中有任何css资源 (例如，使用MiniCssExtractPlugin提取的CSS)，那么这些资源也会在HTML文件<code>&lt;head&gt;</code>元素中的<code>&lt;link&gt;</code>标签内引入</p>
</li>
<li>
<p>更多配置可以自行添加 webpack.config.js</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9d34">&#34;entry&#34;</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#34;index.js&#34;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9d34">&#34;output&#34;</span><span style="color:#797593">:</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ea9d34">&#34;path&#34;</span><span style="color:#797593">:</span> <span style="color:#d7827e">__dirname</span> <span style="color:#797593">+</span> <span style="color:#ea9d34">&#34;/dist&#34;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ea9d34">&#34;filename&#34;</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#34;index_bundle,js&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#797593">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#9893a5">// new 一个对应的插件对象
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>  <span style="color:#ea9d34">&#34;plugins&#34;</span><span style="color:#797593">:</span> <span style="color:#797593">[</span>
</span></span><span style="display:flex;"><span>  <span style="color:#286983">new</span> <span style="color:#d7827e">HtmlWebpackPlugin</span><span style="color:#797593">({</span>
</span></span><span style="display:flex;"><span>      <span style="color:#9893a5">// html 标题
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>      <span style="color:#ea9d34">&#34;title&#34;</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#34;My App&#34;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ea9d34">&#34;filename&#34;</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#34;assets/admin.html&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">})</span>
</span></span><span style="display:flex;"><span>  <span style="color:#797593">]</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span>
</span></span></code></pre></div></li>
</ol>
<h2 id="7-webpack打包css代码">7. Webpack打包css代码<a hidden class="anchor" aria-hidden="true" href="#7-webpack打包css代码">#</a></h2>
<blockquote>
<p>Webpack 默认只识别 js代码， 加载器可以让webpack识别更多类型的模块文件</p>
</blockquote>
<p>加载器的官方文档： webpack.docschina.org/loaders/</p>
<p>加载器 <code>css-loader</code>:  解析css代码</p>
<p>加载器<code>style-loader </code>: 将解析后的css代码插入到DOM</p>
<h3 id="1-安装-css-loader">1. 安装 css-loader<a hidden class="anchor" aria-hidden="true" href="#1-安装-css-loader">#</a></h3>
<p><code>npm install --save-dev css-loader</code></p>
<h3 id="2-filejs">2. file.js<a hidden class="anchor" aria-hidden="true" href="#2-filejs">#</a></h3>
<p><code>import css from &quot;file.css&quot;;</code></p>
<p>css 文件与入口文件产生引入关系，webpack打包时会先找到入口，分析在入口中引入了其他的一些文件，然后将文件内容一起打包</p>
<h3 id="3-将loader引用到webpak的配置中">3. 将loader引用到webpak的配置中<a hidden class="anchor" aria-hidden="true" href="#3-将loader引用到webpak的配置中">#</a></h3>
<p><code>webpack.config.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">module</span><span style="color:#797593">:</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d7827e">rules</span><span style="color:#797593">:</span> <span style="color:#797593">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d7827e">test</span><span style="color:#797593">:</span> <span style="color:#b4637a">/\.css$i,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#9893a5">// 不区分大小写的，以css结尾的文件
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>                <span style="color:#d7827e">user</span><span style="color:#797593">:</span><span style="color:#797593">[</span><span style="color:#ea9d34">&#34;style-loader&#34;</span><span style="color:#797593">,</span><span style="color:#ea9d34">&#34;css-loader&#34;</span><span style="color:#797593">],</span>
</span></span><span style="display:flex;"><span>        <span style="color:#9893a5">// 使用加载器的顺序是从后向前使用
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>            <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#797593">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">};</span>
</span></span></code></pre></div><h3 id="步骤">步骤<a hidden class="anchor" aria-hidden="true" href="#步骤">#</a></h3>
<ol>
<li>准备 css 文件代码引入到 <code>src/login/index.js</code>（压缩转译处理等）</li>
<li>下载 <code>css-loader</code> 和 <code>style-loader</code> 本地软件包</li>
<li>配置<code>webpack.config.js</code> 让<code>Webpack</code>拥有该加载器功能</li>
</ol>
<h2 id="8-优化---提取-css-代码">8. 优化 - 提取 css 代码<a hidden class="anchor" aria-hidden="true" href="#8-优化---提取-css-代码">#</a></h2>
<blockquote>
<p>上节课学会了如何打包 css 代码，但是是融合在 .js 文件中的。这次将css 代码单独提取出来</p>
</blockquote>
<p>好处： css文件可以被浏览器缓存，减少 .JS 文件体积， 可以让浏览器加载更快，浏览器可以并行下载 css/js 这两个文件的代码，使网页尽快展给用户。</p>
<h3 id="1-使用-minicssextractplugin插件步骤">1. 使用 MiniCssExtractPlugin插件步骤<a hidden class="anchor" aria-hidden="true" href="#1-使用-minicssextractplugin插件步骤">#</a></h3>
<ol>
<li>
<p>下载插件</p>
<p><code>npm install --save.dev mini-css-extract-plugin</code></p>
<p>建议 <code>mini-css-extract-plugin</code> 与 <code>css-loader</code>一起使用，但是不能与 <code>style-loader</code>一起使用!!</p>
</li>
<li>
<p>配置插件</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">MiniCssExtractPlugin</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;mini-css-extract-plugin&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">plugins</span><span style="color:#797593">:</span> <span style="color:#797593">[</span><span style="color:#286983">new</span> <span style="color:#d7827e">MiniCssExtractPlugin</span><span style="color:#797593">()]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">module</span><span style="color:#797593">:</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d7827e">rules</span><span style="color:#797593">:</span> <span style="color:#797593">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d7827e">test</span><span style="color:#797593">:</span> <span style="color:#b4637a">/\.css$i,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#9893a5">// 不区分大小写的，以css结尾的文件
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>                <span style="color:#d7827e">user</span><span style="color:#797593">:</span><span style="color:#797593">[</span><span style="color:#d7827e">MiniCssExtractPlugin</span><span style="color:#797593">,</span><span style="color:#ea9d34">&#34;css-loader&#34;</span><span style="color:#797593">],</span>
</span></span><span style="display:flex;"><span>        <span style="color:#9893a5">// 使用加载器的顺序是从后向前使用
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>            <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#797593">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">};</span>
</span></span></code></pre></div><h2 id="9-优化---提取-css-代码的压缩">9. 优化 - 提取 css 代码的压缩<a hidden class="anchor" aria-hidden="true" href="#9-优化---提取-css-代码的压缩">#</a></h2>
<blockquote>
<p>css 代码提取后并没有压缩， 再次使用插件解决。</p>
<p>找包下包配置包</p>
</blockquote>
<h3 id="css-minimizer-webpack-plugin-插件">css-minimizer-webpack-plugin 插件<a hidden class="anchor" aria-hidden="true" href="#css-minimizer-webpack-plugin-插件">#</a></h3>
<ol>
<li>
<p>找包</p>
</li>
<li>
<p>下包</p>
<p><code>npm install css-minimizer-webpack-plugin</code></p>
</li>
<li>
<p>配置包</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">MiniCssExtractPlugin</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;mini-css-extract-plugin&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">CssMinimizerPlugin</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;css-minimizeer-webpacke-plugin&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#9893a5">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#9893a5">// 优化
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>            <span style="color:#d7827e">optimization</span><span style="color:#797593">:</span><span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d7827e">minimizer</span><span style="color:#797593">:</span><span style="color:#797593">[</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#9893a5">// 在webpack@5中可以使用 ... 语法来扩展现有的minimizer (即 terser-webpack-plugin)，将下一行取消注释 (保证JS代码还能被压缩处理)
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>                    <span style="color:#797593">...,</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#286983">new</span> <span style="color:#d7827e">CssMinimizerPlugin</span><span style="color:#797593">(),</span> 
</span></span><span style="display:flex;"><span>                <span style="color:#797593">]</span>
</span></span><span style="display:flex;"><span>            <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">};</span>
</span></span></code></pre></div><h2 id="10-webpack-打包-less">10. Webpack 打包 less<a hidden class="anchor" aria-hidden="true" href="#10-webpack-打包-less">#</a></h2>
<h3 id="1-less-loader">1. less-loader<a hidden class="anchor" aria-hidden="true" href="#1-less-loader">#</a></h3>
<blockquote>
<p>将Less编译为CSS的loader</p>
</blockquote>
<ol>
<li>
<p>找包</p>
</li>
<li>
<p>下包</p>
<p><code>npm install less less-loader --save-dev</code></p>
</li>
<li>
<p>配置包</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">module</span><span style="color:#797593">:</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d7827e">rules</span><span style="color:#797593">:</span> <span style="color:#797593">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d7827e">test</span><span style="color:#797593">:</span> <span style="color:#b4637a">/\.less$i,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#9893a5">// 不区分大小写的，以css结尾的文件
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>               <span style="color:#d7827e">use</span><span style="color:#797593">:</span> <span style="color:#797593">[</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ea9d34">&#39;style-loader&#39;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ea9d34">&#39;css-loader&#39;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ea9d34">&#39;less-loader&#39;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#797593">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#9893a5">// 从后向前使用
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>            <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#797593">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">};</span>
</span></span></code></pre></div><h3 id="步骤-1">步骤<a hidden class="anchor" aria-hidden="true" href="#步骤-1">#</a></h3>
<ol>
<li>新建 less 代码 （设置背景图）并引入到 <code>src/login/index.js</code></li>
<li>下载 less 和 less-loader 本地软件包，因为less-loader需要配合less软件包使用</li>
<li>配置 webpack.config.js</li>
</ol>
<h2 id="11-webpack资源模块">11. Webpack资源模块<a hidden class="anchor" aria-hidden="true" href="#11-webpack资源模块">#</a></h2>
<blockquote>
<p>资源模块 （asset module）是一种模块类型，允许使用资源文件 (字体，图标等）而无需配置额外 loader</p>
</blockquote>
<p>资源模块类型 (asset module type), 通过添加4种新的模块类型，替换所有loader</p>
<ul>
<li><code>asset/resource</code> 发送一个单独文件并导出URL，之前通过使用<code>file-loader</code>实现。<!-- raw HTML omitted -->针对图片/文件<!-- raw HTML omitted -->i</li>
<li><code>asset/inline</code> 导出一个资源的data URI, 之前通过使用<code>url-loader</code>实现</li>
<li><code>asset/source</code> 导出资源的源代码。之前通过使用<code>raw-loader</code>实现。<!-- raw HTML omitted -->针对txt文本，使用场景不多<!-- raw HTML omitted --></li>
<li><code>asset</code> 在导出一个data URI 和发送一个单独文件之间自动选择。之前通过使用<code>url-loader</code>，并且配置资源体积限制实现。文件大于8kb使用<code>asset/resource</code>，小于8kb使用<code>assest/inline</code></li>
</ul>
<p>当在webpack5中使用旧日的assets loader (如 file-loader/url-loader/raw-loader 等)和asset模块时，你可能想停止当前 asset模块的处理，并再次启动处理，这可能会导致 asset重复，你可以通过将 asset模块的类型设置为 <code>javascript/auto</code>来解决</p>
<h3 id="1-打包图片">1. 打包图片<a hidden class="anchor" aria-hidden="true" href="#1-打包图片">#</a></h3>
<p>资源模块： Webpack5 内置资源模块 (字体/图片等) 打包，无需额外loader</p>
<p>步骤：</p>
<ol>
<li>
<p>配置 <code>webpack.config.js</code> 让Webpack拥有打包图片功能</p>
<ul>
<li>占位符 [ hash ] 对模块内容做算法计算，得到映射的数字字母组合的字符串</li>
<li>占位符 [ext] 使用当前模块原本的占位符，例如：.png/.jpg等字符串</li>
<li>占位符 [query] 保留引入文件时代码中查询参数 (只有URL下生效)</li>
</ul>
<p>注意：判断临界值默认为 8kb</p>
<ul>
<li>
<p>大于8kb文件：发送一个单独的文件并导出URL地址</p>
</li>
<li>
<p>小于8kb文件：导出一个data URI （base64字符串）</p>
</li>
</ul>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#9893a5">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#d7827e">module</span><span style="color:#797593">:</span><span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d7827e">rules</span><span style="color:#797593">:</span><span style="color:#797593">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#9893a5">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>            <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d7827e">test</span><span style="color:#797593">:</span> <span style="color:#ea9d34">/\.(png|jpg|jpeg|gif)$/i</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d7827e">type</span><span style="color:#797593">:</span><span style="color:#ea9d34">&#39;asset&#39;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d7827e">generator</span><span style="color:#797593">:</span><span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#9893a5">// 默认以output path作为路径
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>                    <span style="color:#d7827e">filename</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#39;assets/[hash][ext][query]&#39;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#797593">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span>
</span></span></code></pre></div><h2 id="12-webpack热更新环境搭建">12. webpack热更新环境搭建<a hidden class="anchor" aria-hidden="true" href="#12-webpack热更新环境搭建">#</a></h2>
<blockquote>
<p>之前改代码，需要重新打包才能运行查看，效率很低</p>
</blockquote>
<h3 id="1-开发环境">1. 开发环境<a hidden class="anchor" aria-hidden="true" href="#1-开发环境">#</a></h3>
<p>配置webpack-dev-server 快速开发应用程序</p>
<ul>
<li>开发环境： 开发 <code>mode: 'development'</code></li>
<li>生产环境：用户看到的页面<code> mode: 'production'</code></li>
</ul>
<p>作用：启动Web服务，自动检测代码变化，热更新到网页</p>
<p>注意：dist 目录和打包内容存在内存里 （更新快）</p>
<h3 id="2-下包-webpackp-dev-server">2. 下包 Webpackp-dev-server<a hidden class="anchor" aria-hidden="true" href="#2-下包-webpackp-dev-server">#</a></h3>
<p><code>npm install --save-dev webpack-dev-server</code></p>
<h3 id="3-配置包">3. 配置包<a hidden class="anchor" aria-hidden="true" href="#3-配置包">#</a></h3>
<ul>
<li>设置模式为开发模式</li>
<li>自定义命令</li>
<li>使用 <code>npm run dev</code>来启动开发服务器，试试热更新效果</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#9893a5">// package.json 设置自定义命令
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span><span style="color:#b4637a">scripts:</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">&#34;build&#34;</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#34;webpack&#34;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">&#34;dev&#34;</span><span style="color:#797593">:</span><span style="color:#ea9d34">&#34;webpack server --open&#34;</span> <span style="color:#9893a5">//自动弹出浏览器
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span><span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b4637a">module.exports</span> <span style="color:#b4637a">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#b4637a">mode:</span> <span style="color:#b4637a">&#39;development&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#b4637a">entry:{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#b4637a">index:</span> <span style="color:#b4637a">&#39;./src/index.js&#39;,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#b4637a">print:&#39;./src/print.js&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">}</span><span style="color:#b4637a">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#b4637a">devtool:</span> <span style="color:#b4637a">&#39;inline-source-map&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#b4637a">devServer:</span><span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#b4637a">static:&#39;/dist&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#b4637a">}</span>
</span></span></code></pre></div><p>以上配置表示</p>
<ul>
<li><code>webpack-dev-server</code> 借助 http模块创建8080默认web服务，将<code>dist</code>目录下的文件serve到<code>localhost:8080</code>下。（serve 将资源作为server可访问的文件 ），如果不设置<code>static</code>属性，默认使用<code>public</code>文件夹的内容渲染页面</li>
<li><code>webpack-dev-server</code>根据配置，打包相关代码在内存当中，意味着不会生成新的文件，开发者肉眼不可见。以<code>output.path</code>的值作为服务器根目录，可以直接自己拼接访问dist目录下内容</li>
</ul>
<h2 id="13-webpack-打包模式">13. Webpack 打包模式<a hidden class="anchor" aria-hidden="true" href="#13-webpack-打包模式">#</a></h2>
<h3 id="1-打包模式">1. 打包模式<a hidden class="anchor" aria-hidden="true" href="#1-打包模式">#</a></h3>
<blockquote>
<p>告知Webpack使用相应模式的内置优化</p>
</blockquote>
<h3 id="2-分类">2. 分类<a hidden class="anchor" aria-hidden="true" href="#2-分类">#</a></h3>
<p>开发模式，生产模式</p>
<table>
<thead>
<tr>
<th>模式名称</th>
<th>模式名字</th>
<th>特点</th>
<th>场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>开发模式</td>
<td>development</td>
<td>调试代码，实时加载，模块热替换</td>
<td>本地开发</td>
</tr>
<tr>
<td>生产模式</td>
<td>production</td>
<td>压缩代码，资源优化，更轻量</td>
<td>打包上线</td>
</tr>
</tbody>
</table>
<h3 id="3-设置方式">3. 设置方式<a hidden class="anchor" aria-hidden="true" href="#3-设置方式">#</a></h3>
<ul>
<li>方式1:   在webpack.config.js 配置文件设置mode选项</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#9893a5">// ... 
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#d7827e">mode</span><span style="color:#797593">:</span> <span style="color:#ea9d34">&#39;production&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span>
</span></span></code></pre></div><ul>
<li>方式2：在package.json命令行设置mode参数 【优先级高于配置文件，会覆盖优先级】</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#ea9d34">&#34;scripts&#34;</span><span style="color:#b4637a">:</span><span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">&#34;build&#34;</span><span style="color:#797593">:</span><span style="color:#ea9d34">&#34;webpack --mode=production&#34;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">&#34;dev&#34;</span><span style="color:#797593">:</span><span style="color:#ea9d34">&#34;webpack serve --mode=development&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span><span style="color:#b4637a">,</span>
</span></span></code></pre></div><h3 id="4-打包模式的应用">4. 打包模式的应用<a hidden class="anchor" aria-hidden="true" href="#4-打包模式的应用">#</a></h3>
<p>需求：</p>
<ul>
<li>在开发模式下用 <code>style-loader</code>内嵌更快</li>
<li>在生产模式下提取<code>css</code>代码，为了在用户的电脑上并行加载 css 和 js 的代码</li>
</ul>
<p>方案1: <code>webpack.config.js</code>配置导出函数，但是局限性很大（因为只接收生产模式和开发模式）</p>
<p>方案2: 借助 <code>cross-env</code>（跨平台通用）包命令，设置参数区分环境</p>
<ol>
<li>下载 cross-env 软件包到当前项目</li>
<li>配置自定义命令，传入参数名和值 (会绑定到process.nev对象下)</li>
<li>在webpack.conifg.js 区分不同环境使用不同配置</li>
<li>重新打包观察两种配置区别</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#ea9d34">&#34;script&#34;</span><span style="color:#b4637a">:</span><span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">&#34;test&#34;</span><span style="color:#797593">:</span><span style="color:#ea9d34">&#34;echo \&#34;Error: no test specified\&#34;&amp;&amp; exit 1&#34;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">&#34;build&#34;</span><span style="color:#797593">:</span><span style="color:#ea9d34">&#34;cross-env NODE_ENV=production webpack --mode=production&#34;</span><span style="color:#797593">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">&#34;dev&#34;</span><span style="color:#797593">:</span><span style="color:#ea9d34">&#34;cross-env NODE_ENV=development webpack serve --open --mode=development&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span>
</span></span></code></pre></div><p>方案3: 配置不同的webpack.config.js （适用于多种模式差异性较大情况）</p>
<h2 id="14-前端-注入环境变量">14. 前端-注入环境变量<a hidden class="anchor" aria-hidden="true" href="#14-前端-注入环境变量">#</a></h2>
<blockquote>
<p>前端项目中，开发模式下打印语句生效，生产模式下打印语句失效</p>
</blockquote>
<p><code>cross-env</code>设置只能在<code>Node.js</code>环境生效，打包后代码作用在浏览器，前端代码无法访问 <code>process.env.NODE_ENV</code></p>
<blockquote>
<p>解决方法依然是 找包掉包配置包 <code>DefinePlugin</code>插件 （内置插件无需下载）</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">webpack</span> <span style="color:#797593">=</span> <span style="color:#d7827e">require</span><span style="color:#797593">(</span><span style="color:#ea9d34">&#39;webpack&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#9893a5">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>    <span style="color:#d7827e">plugins</span><span style="color:#797593">:</span> <span style="color:#797593">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#9893a5">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>        <span style="color:#9893a5">// 在编译时，将前端代码中匹配的变量名，替换为值或表达式
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>        <span style="color:#286983">new</span> <span style="color:#d7827e">webpack</span><span style="color:#797593">.</span><span style="color:#d7827e">DefinePlugin</span><span style="color:#797593">({</span>
</span></span><span style="display:flex;"><span>            <span style="color:#9893a5">// key 是诸如到打包后的前端 JS 代码中作为全局变量
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>            <span style="color:#9893a5">// value 是变量对应的值(在cross-env诸如在node.js中的环境变量字符串)
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span>            <span style="color:#ea9d34">&#39;process.env.NODE_ENV&#39;</span><span style="color:#797593">:</span><span style="color:#d7827e">JSON</span><span style="color:#797593">.</span><span style="color:#d7827e">stringfy</span><span style="color:#797593">(</span><span style="color:#d7827e">process</span><span style="color:#797593">.</span><span style="color:#d7827e">env</span><span style="color:#797593">.</span><span style="color:#d7827e">NODE_ENV</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#797593">})</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">]</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span>
</span></span></code></pre></div><h2 id="15-开发环境调错--source-map">15. 开发环境调错 -source map<a hidden class="anchor" aria-hidden="true" href="#15-开发环境调错--source-map">#</a></h2>
<p>代码被压缩和混淆，无法正且定位源代码位置（行数和列数）</p>
<p>source map: 可以准切追踪error和warning 在原始代码的位置</p>
<p>设置: web pack.config.js 配置devtool选项</p>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#d7827e">module</span><span style="color:#797593">.</span><span style="color:#d7827e">exports</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">devtool</span><span style="color:#797593">:</span><span style="color:#ea9d34">&#39;inline-source-map&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">};</span>
</span></span></code></pre></div><p><code>inline-source-map</code>：把源码的位置信息一起打包js文件内</p>
<p>注意： source map仅仅是用于开发环境，不要在生产环境使用 (防止被轻易查看源码位置)</p>
<h2 id="16-解析别名-alias">16. 解析别名 alias<a hidden class="anchor" aria-hidden="true" href="#16-解析别名-alias">#</a></h2>
<p>配置模块如何解析，创建import引入路径的别名，来确保模块引入变得更简单，例如原来路径长且相对路径不安全</p>
<div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#9893a5">// @ 代表绝对路径
</span></span></span><span style="display:flex;"><span><span style="color:#9893a5"></span><span style="color:#286983">import</span> <span style="color:#797593">{</span><span style="color:#d7827e">checkPhone</span><span style="color:#797593">,</span> <span style="color:#d7827e">checkCode</span><span style="color:#797593">}</span> <span style="color:#d7827e">from</span> <span style="color:#ea9d34">&#39;@/utils/check.js&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#286983">const</span> <span style="color:#d7827e">config</span> <span style="color:#797593">=</span> <span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d7827e">resolve</span><span style="color:#797593">:</span><span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d7827e">alias</span><span style="color:#797593">:</span><span style="color:#797593">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ea9d34">&#39;@&#39;</span><span style="color:#797593">:</span><span style="color:#d7827e">path</span><span style="color:#797593">.</span><span style="color:#d7827e">resolve</span><span style="color:#797593">(</span><span style="color:#d7827e">__dirname</span><span style="color:#797593">,</span><span style="color:#ea9d34">&#39;src&#39;</span><span style="color:#797593">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#797593">}</span>
</span></span><span style="display:flex;"><span><span style="color:#797593">}</span>
</span></span></code></pre></div>

  </div>

  

  

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://jingyiwu-codespace.github.io/zh/tags/node.js/">Node.js</a></li>
      <li><a href="https://jingyiwu-codespace.github.io/zh/tags/webpack/">Webpack</a></li>
      <li><a href="https://jingyiwu-codespace.github.io/zh/tags/vub/">VUB</a></li>
      <li><a href="https://jingyiwu-codespace.github.io/zh/tags/frontend/">Frontend</a></li>
    </ul>



<details>
    <summary>View/hide comments</summary>
    <div class="giscus">
        <meta http-equiv="Content-Security-Policy" content="script-src 'unsafe-eval'; object-src 'none'; ">
        <script nonce="${nonce}">

            function getGiscusTheme() {
                
                const preferredTheme = localStorage.getItem("pref-theme");
                
                let giscusTheme;
                switch (preferredTheme) {
                    case "light":
                        giscusTheme = "noborder_light";
                        break;
                    case "dark":
                        giscusTheme = "noborder_gray";
                        break;
                    default:
                        giscusTheme = "noborder_gray"; 
                }
                return giscusTheme;
            }
            function setGiscusTheme() {
                function sendMessage(message) {
                    const iframe = document.querySelector('iframe.giscus-frame');
                    if (!iframe) return;
                    iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
                }
                
                sendMessage({
                    setConfig: {
                        theme: getGiscusTheme(),
                    },
                });
            }

            const attrs = {
                "src": "https://giscus.app/client.js",
                "data-repo": "JingyiWu-codespace/JingyiWu-codespace.github.io",
                "data-repo-id": "R_kgDOLEfUzQ",
                "data-category": "Announcements",
                "data-category-id": "DIC_kwDOLEfUzc4CdFiN",
                "data-mapping": "pathname",
                "data-strict": "0",
                "data-reactions-enabled": "1",
                "data-emit-metadata": "0",
                "data-input-position": "bottom",
                "data-theme": getGiscusTheme(), 
                "data-lang": "en",
                "crossorigin": "anonymous",
                "async": ""
            };

            const giscusScript = document.createElement("script");
            Object.entries(attrs).forEach(([key, value]) => giscusScript.setAttribute(key, value));
            document.body.appendChild(giscusScript);

            
            const toggle = document.querySelector('#theme-toggle');
            if (toggle) {
                toggle.addEventListener('click', setGiscusTheme);
            }
        </script>

        <noscript>Please enable JavaScript to view the comments</noscript>
    </div>

</details>




<nav class="paginav">
  <a class="prev" href="https://jingyiwu-codespace.github.io/zh/posts/tech/vue/">
    <span class="title">« 上一页</span>
    <br>
    <span>学习：Vue2 &amp; Vue3 </span>
  </a>
  <a class="next" href="https://jingyiwu-codespace.github.io/zh/posts/tech/ajax/">
    <span class="title">下一页 »</span>
    <br>
    <span>学习：AJAX </span>
  </a>
</nav>


  </footer>

</article>
    </main>
    
<footer class="footer">
    <span>
        &copy;
        2024
        <a href="https://jingyiwu-codespace.github.io" rel="noopener noreferrer" target="_blank">Jingyi's Blog</a>
<span class="busuanzi-footer">
  <span id="busuanzi_container_site_pv">
    Views: <span id="busuanzi_value_site_pv"></span>
  </span>
  <span id="busuanzi_container_site_uv">
    Visitors: <span id="busuanzi_value_site_uv"></span>
  </span>
</span>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    </span>
    


</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>


<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script></body>

</html>